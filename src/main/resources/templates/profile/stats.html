
<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è - Cleopatra</title>-->
<!--  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">-->
<!--  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">-->
<!--  <style>-->
<!--    :root {-->
<!--      &#45;&#45;bg-primary: #0f0f0f;-->
<!--      &#45;&#45;bg-secondary: #1a1a1a;-->
<!--      &#45;&#45;bg-accent: #2a2a2a;-->
<!--      &#45;&#45;text-primary: #ffffff;-->
<!--      &#45;&#45;text-secondary: #b3b3b3;-->
<!--      &#45;&#45;text-muted: #666666;-->
<!--      &#45;&#45;accent-primary: #d4af37;-->
<!--      &#45;&#45;accent-secondary: #b8941f;-->
<!--      &#45;&#45;accent-success: #10b981;-->
<!--      &#45;&#45;accent-warning: #f59e0b;-->
<!--      &#45;&#45;accent-danger: #ef4444;-->
<!--      &#45;&#45;accent-info: #3b82f6;-->
<!--      &#45;&#45;border-color: #333333;-->
<!--      &#45;&#45;shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);-->
<!--      &#45;&#45;shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5);-->
<!--      &#45;&#45;shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);-->
<!--      &#45;&#45;shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5);-->
<!--      &#45;&#45;radius-sm: 0.375rem;-->
<!--      &#45;&#45;radius-md: 0.5rem;-->
<!--      &#45;&#45;radius-lg: 0.75rem;-->
<!--      &#45;&#45;radius-xl: 1rem;-->
<!--    }-->

<!--    * {-->
<!--      margin: 0;-->
<!--      padding: 0;-->
<!--      box-sizing: border-box;-->
<!--    }-->

<!--    body {-->
<!--      font-family: 'Inter', sans-serif;-->
<!--      background: var(&#45;&#45;bg-primary);-->
<!--      color: var(&#45;&#45;text-primary);-->
<!--      line-height: 1.6;-->
<!--      min-height: 100vh;-->
<!--    }-->

<!--    .container {-->
<!--      max-width: 1200px;-->
<!--      margin: 0 auto;-->
<!--      padding: 2rem 1rem;-->
<!--    }-->

<!--    .page-header {-->
<!--      text-align: center;-->
<!--      margin-bottom: 3rem;-->
<!--      padding: 2rem 0;-->
<!--      background: linear-gradient(135deg, var(&#45;&#45;bg-secondary), var(&#45;&#45;bg-accent));-->
<!--      border-radius: var(&#45;&#45;radius-xl);-->
<!--      border: 1px solid var(&#45;&#45;border-color);-->
<!--    }-->

<!--    .page-title {-->
<!--      font-family: 'Playfair Display', serif;-->
<!--      font-size: 2.5rem;-->
<!--      font-weight: 700;-->
<!--      color: var(&#45;&#45;accent-primary);-->
<!--      margin-bottom: 0.5rem;-->
<!--    }-->

<!--    .page-subtitle {-->
<!--      color: var(&#45;&#45;text-secondary);-->
<!--      font-size: 1.1rem;-->
<!--    }-->

<!--    .stats-grid {-->
<!--      display: grid;-->
<!--      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));-->
<!--      gap: 2rem;-->
<!--      margin-bottom: 3rem;-->
<!--    }-->

<!--    .stats-card {-->
<!--      background: var(&#45;&#45;bg-secondary);-->
<!--      border: 1px solid var(&#45;&#45;border-color);-->
<!--      border-radius: var(&#45;&#45;radius-xl);-->
<!--      padding: 2rem;-->
<!--      transition: all 0.3s ease;-->
<!--      position: relative;-->
<!--      overflow: hidden;-->
<!--    }-->

<!--    .stats-card:hover {-->
<!--      transform: translateY(-5px);-->
<!--      box-shadow: var(&#45;&#45;shadow-xl);-->
<!--      border-color: var(&#45;&#45;accent-primary);-->
<!--    }-->

<!--    .stats-card::before {-->
<!--      content: '';-->
<!--      position: absolute;-->
<!--      top: 0;-->
<!--      left: 0;-->
<!--      right: 0;-->
<!--      height: 4px;-->
<!--      background: linear-gradient(90deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-secondary));-->
<!--    }-->

<!--    .card-header {-->
<!--      display: flex;-->
<!--      align-items: center;-->
<!--      margin-bottom: 1.5rem;-->
<!--    }-->

<!--    .card-icon {-->
<!--      font-size: 2rem;-->
<!--      margin-right: 1rem;-->
<!--      padding: 0.75rem;-->
<!--      background: linear-gradient(135deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-secondary));-->
<!--      color: white;-->
<!--      border-radius: var(&#45;&#45;radius-lg);-->
<!--    }-->

<!--    .card-title {-->
<!--      font-family: 'Playfair Display', serif;-->
<!--      font-size: 1.5rem;-->
<!--      font-weight: 600;-->
<!--      color: var(&#45;&#45;text-primary);-->
<!--    }-->

<!--    .metric-row {-->
<!--      display: flex;-->
<!--      justify-content: space-between;-->
<!--      align-items: center;-->
<!--      padding: 1rem 0;-->
<!--      border-bottom: 1px solid var(&#45;&#45;border-color);-->
<!--    }-->

<!--    .metric-row:last-child {-->
<!--      border-bottom: none;-->
<!--    }-->

<!--    .metric-label {-->
<!--      color: var(&#45;&#45;text-secondary);-->
<!--      font-weight: 500;-->
<!--    }-->

<!--    .metric-value {-->
<!--      font-weight: 700;-->
<!--      font-size: 1.2rem;-->
<!--      color: var(&#45;&#45;text-primary);-->
<!--    }-->

<!--    .metric-trend {-->
<!--      font-size: 0.9rem;-->
<!--      margin-left: 0.5rem;-->
<!--    }-->

<!--    .trend-up { color: var(&#45;&#45;accent-success); }-->
<!--    .trend-down { color: var(&#45;&#45;accent-danger); }-->
<!--    .trend-stable { color: var(&#45;&#45;text-muted); }-->

<!--    .progress-bar {-->
<!--      width: 100%;-->
<!--      height: 8px;-->
<!--      background: var(&#45;&#45;bg-accent);-->
<!--      border-radius: var(&#45;&#45;radius-sm);-->
<!--      overflow: hidden;-->
<!--      margin-top: 0.5rem;-->
<!--    }-->

<!--    .progress-fill {-->
<!--      height: 100%;-->
<!--      background: linear-gradient(90deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-secondary));-->
<!--      transition: width 0.3s ease;-->
<!--    }-->

<!--    .chart-container {-->
<!--      height: 200px;-->
<!--      background: var(&#45;&#45;bg-accent);-->
<!--      border-radius: var(&#45;&#45;radius-md);-->
<!--      margin-top: 1rem;-->
<!--      display: flex;-->
<!--      align-items: center;-->
<!--      justify-content: center;-->
<!--      color: var(&#45;&#45;text-muted);-->
<!--      font-style: italic;-->
<!--    }-->

<!--    .badge {-->
<!--      display: inline-block;-->
<!--      padding: 0.25rem 0.75rem;-->
<!--      border-radius: var(&#45;&#45;radius-sm);-->
<!--      font-size: 0.8rem;-->
<!--      font-weight: 600;-->
<!--      text-transform: uppercase;-->
<!--      letter-spacing: 0.5px;-->
<!--    }-->

<!--    .badge-success { background: var(&#45;&#45;accent-success); color: white; }-->
<!--    .badge-warning { background: var(&#45;&#45;accent-warning); color: white; }-->
<!--    .badge-info { background: var(&#45;&#45;accent-info); color: white; }-->
<!--    .badge-danger { background: var(&#45;&#45;accent-danger); color: white; }-->

<!--    .action-buttons {-->
<!--      display: flex;-->
<!--      gap: 1rem;-->
<!--      justify-content: center;-->
<!--      margin-top: 3rem;-->
<!--      flex-wrap: wrap;-->
<!--    }-->

<!--    .btn {-->
<!--      padding: 0.75rem 1.5rem;-->
<!--      border: none;-->
<!--      border-radius: var(&#45;&#45;radius-md);-->
<!--      font-weight: 600;-->
<!--      text-decoration: none;-->
<!--      transition: all 0.3s ease;-->
<!--      cursor: pointer;-->
<!--      display: inline-flex;-->
<!--      align-items: center;-->
<!--      gap: 0.5rem;-->
<!--    }-->

<!--    .btn-primary {-->
<!--      background: linear-gradient(135deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-secondary));-->
<!--      color: white;-->
<!--    }-->

<!--    .btn-secondary {-->
<!--      background: var(&#45;&#45;bg-secondary);-->
<!--      color: var(&#45;&#45;text-primary);-->
<!--      border: 1px solid var(&#45;&#45;border-color);-->
<!--    }-->

<!--    .btn:hover {-->
<!--      transform: translateY(-2px);-->
<!--      box-shadow: var(&#45;&#45;shadow-lg);-->
<!--    }-->

<!--    .weekly-activity {-->
<!--      display: grid;-->
<!--      grid-template-columns: repeat(7, 1fr);-->
<!--      gap: 0.5rem;-->
<!--      margin-top: 1rem;-->
<!--    }-->

<!--    .day-activity {-->
<!--      text-align: center;-->
<!--      padding: 1rem 0.5rem;-->
<!--      background: var(&#45;&#45;bg-accent);-->
<!--      border-radius: var(&#45;&#45;radius-md);-->
<!--      border: 2px solid transparent;-->
<!--      transition: all 0.3s ease;-->
<!--    }-->

<!--    .day-activity.active {-->
<!--      border-color: var(&#45;&#45;accent-primary);-->
<!--      background: linear-gradient(135deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-secondary));-->
<!--      color: white;-->
<!--    }-->

<!--    .day-name {-->
<!--      font-size: 0.8rem;-->
<!--      font-weight: 600;-->
<!--      margin-bottom: 0.5rem;-->
<!--    }-->

<!--    .day-value {-->
<!--      font-size: 1.2rem;-->
<!--      font-weight: 700;-->
<!--    }-->

<!--    .top-posts {-->
<!--      display: flex;-->
<!--      flex-direction: column;-->
<!--      gap: 1rem;-->
<!--      margin-top: 1rem;-->
<!--    }-->

<!--    .post-item {-->
<!--      display: flex;-->
<!--      align-items: center;-->
<!--      padding: 1rem;-->
<!--      background: var(&#45;&#45;bg-accent);-->
<!--      border-radius: var(&#45;&#45;radius-md);-->
<!--      transition: all 0.3s ease;-->
<!--    }-->

<!--    .post-item:hover {-->
<!--      background: var(&#45;&#45;border-color);-->
<!--    }-->

<!--    .post-rank {-->
<!--      font-size: 1.5rem;-->
<!--      font-weight: 700;-->
<!--      color: var(&#45;&#45;accent-primary);-->
<!--      margin-right: 1rem;-->
<!--      min-width: 40px;-->
<!--    }-->

<!--    .post-content {-->
<!--      flex: 1;-->
<!--    }-->

<!--    .post-text {-->
<!--      color: var(&#45;&#45;text-primary);-->
<!--      margin-bottom: 0.5rem;-->
<!--    }-->

<!--    .post-stats {-->
<!--      display: flex;-->
<!--      gap: 1rem;-->
<!--      font-size: 0.9rem;-->
<!--      color: var(&#45;&#45;text-secondary);-->
<!--    }-->

<!--    .geography-tags {-->
<!--      display: flex;-->
<!--      flex-wrap: wrap;-->
<!--      gap: 0.5rem;-->
<!--      margin-top: 1rem;-->
<!--    }-->

<!--    .geo-tag {-->
<!--      padding: 0.5rem 1rem;-->
<!--      background: var(&#45;&#45;bg-accent);-->
<!--      border-radius: var(&#45;&#45;radius-sm);-->
<!--      font-size: 0.9rem;-->
<!--      color: var(&#45;&#45;text-secondary);-->
<!--      border: 1px solid var(&#45;&#45;border-color);-->
<!--    }-->

<!--    .optimal-time {-->
<!--      text-align: center;-->
<!--      padding: 2rem;-->
<!--      background: linear-gradient(135deg, var(&#45;&#45;accent-info), #1e40af);-->
<!--      border-radius: var(&#45;&#45;radius-lg);-->
<!--      color: white;-->
<!--      margin-top: 1rem;-->
<!--    }-->

<!--    .time-value {-->
<!--      font-size: 2rem;-->
<!--      font-weight: 700;-->
<!--      margin-bottom: 0.5rem;-->
<!--    }-->

<!--    .time-description {-->
<!--      opacity: 0.9;-->
<!--    }-->

<!--    @media (max-width: 768px) {-->
<!--      .container {-->
<!--        padding: 1rem 0.5rem;-->
<!--      }-->

<!--      .page-title {-->
<!--        font-size: 2rem;-->
<!--      }-->

<!--      .stats-grid {-->
<!--        grid-template-columns: 1fr;-->
<!--        gap: 1.5rem;-->
<!--      }-->

<!--      .weekly-activity {-->
<!--        grid-template-columns: repeat(4, 1fr);-->
<!--      }-->

<!--      .action-buttons {-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--      }-->
<!--    }-->
<!--  </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container">-->
<!--  &lt;!&ndash; –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã &ndash;&gt;-->
<!--  <div class="page-header">-->
<!--    <h1 class="page-title">-->
<!--      <i class="fas fa-chart-line"></i>-->
<!--      –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è-->
<!--    </h1>-->
<!--    <p class="page-subtitle" th:text="'–ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è ' + ${user.firstName} + ' ' + ${user.lastName}">-->
<!--      –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞-->
<!--    </p>-->
<!--  </div>-->

<!--  &lt;!&ndash; –°–µ—Ç–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ &ndash;&gt;-->
<!--  <div class="stats-grid">-->

<!--    &lt;!&ndash; 1. –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ &ndash;&gt;-->
<!--    <div class="stats-card">-->
<!--      <div class="card-header">-->
<!--        <i class="card-icon fas fa-eye"></i>-->
<!--        <h3 class="card-title">–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏</h3>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–ü—Ä–æ—Å–º–æ—Ç—Ä—ã –ø—Ä–æ—Ñ–∏–ª—è</span>-->
<!--        <div>-->
<!--          <span class="metric-value" th:text="${stats.formattedProfileViews}">1,247</span>-->
<!--          <span class="metric-trend trend-up">-->
<!--            <i class="fas fa-arrow-up"></i> +12%-->
<!--          </span>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–í—Å–µ–≥–æ –ª–∞–π–∫–æ–≤</span>-->
<!--        <div>-->
<!--          <span class="metric-value" th:text="${stats.formattedTotalLikes}">3,456</span>-->
<!--          <span class="metric-trend trend-up">-->
<!--            <i class="fas fa-arrow-up"></i> +8%-->
<!--          </span>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å</span>-->
<!--        <div>-->
<!--          <span class="metric-value" th:text="${stats.avgEngagement}">7.2%</span>-->
<!--          <span class="metric-trend trend-stable">-->
<!--            <i class="fas fa-minus"></i> —Å—Ç–∞–±–∏–ª—å–Ω–æ-->
<!--          </span>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–ü–æ—Å—Ç–æ–≤ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ</span>-->
<!--        <div>-->
<!--          <span class="metric-value" th:text="${stats.postsCount}">89</span>-->
<!--          <span class="metric-trend trend-up">-->
<!--            <i class="fas fa-arrow-up"></i> –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å-->
<!--          </span>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; 2. –†–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ &ndash;&gt;-->
<!--    <div class="stats-card">-->
<!--      <div class="card-header">-->
<!--        <i class="card-icon fas fa-users"></i>-->
<!--        <h3 class="card-title">–ü–æ–¥–ø–∏—Å—á–∏–∫–∏</h3>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–í—Å–µ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</span>-->
<!--        <div>-->
<!--          <span class="metric-value" th:text="${stats.formattedFollowersCount}">2,534</span>-->
<!--          <span class="badge badge-success">–†–∞—Å—Ç–µ—Ç</span>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–ù–æ–≤—ã—Ö –∑–∞ –Ω–µ–¥–µ–ª—é</span>-->
<!--        <span class="metric-value" th:text="${stats.newFollowersWeekFormatted}">+47</span>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–û—Ç–ø–∏—Å–æ–∫ –∑–∞ –Ω–µ–¥–µ–ª—é</span>-->
<!--        <span class="metric-value" th:text="${stats.unfollowersWeekFormatted}">-12</span>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–ß–∏—Å—Ç—ã–π –ø—Ä–∏—Ä–æ—Å—Ç</span>-->
<!--        <span class="metric-value" th:text="${stats.netGrowthFormatted}" th:classappend="${stats.netGrowthTrendClass}">+35</span>-->
<!--      </div>-->

<!--      &lt;!&ndash; –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ —Ü–µ–ª–∏ &ndash;&gt;-->
<!--      <div style="margin-top: 1rem;">-->
<!--        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">-->
<!--          <span class="metric-label">–ü—Ä–æ–≥—Ä–µ—Å—Å –∫ —Ü–µ–ª–∏</span>-->
<!--          <span style="color: var(&#45;&#45;accent-primary);" th:text="${stats.goalProgressFormatted}">84.5%</span>-->
<!--        </div>-->
<!--        <div class="progress-bar">-->
<!--          <div class="progress-fill" th:style="'width: ' + ${stats.goalProgress} + '%;'"></div>-->
<!--        </div>-->
<!--        <div style="margin-top: 0.5rem; font-size: 0.9rem; color: var(&#45;&#45;text-secondary);" th:text="${stats.nextGoal}">-->
<!--          üéØ 3000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (–æ—Å—Ç–∞–ª–æ—Å—å 466)-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; 3. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ &ndash;&gt;-->
<!--    <div class="stats-card">-->
<!--      <div class="card-header">-->
<!--        <i class="card-icon fas fa-calendar-week"></i>-->
<!--        <h3 class="card-title">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º</h3>-->
<!--      </div>-->

<!--      <div class="weekly-activity">-->
<!--        <div th:each="day : ${stats.weeklyActivity}"-->
<!--             class="day-activity"-->
<!--             th:classappend="${day.key == stats.bestDay} ? 'active' : ''">-->
<!--          <div class="day-name" th:text="${day.key}">–ü–ù</div>-->
<!--          <div class="day-value" th:text="${day.value}">245</div>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div style="text-align: center; margin-top: 1rem; color: var(&#45;&#45;text-secondary);">-->
<!--        <i class="fas fa-crown" style="color: var(&#45;&#45;accent-primary);"></i>-->
<!--        –õ—É—á—à–∏–π –¥–µ–Ω—å: <strong style="color: var(&#45;&#45;accent-primary);" th:text="${stats.bestDay}">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ</strong>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; 4. –¢–æ–ø –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ &ndash;&gt;-->
<!--    <div class="stats-card">-->
<!--      <div class="card-header">-->
<!--        <i class="card-icon fas fa-fire"></i>-->
<!--        <h3 class="card-title">–¢–æ–ø-3 –ø–æ—Å—Ç–∞</h3>-->
<!--      </div>-->

<!--      <div class="top-posts" th:if="${stats.topPosts != null and !stats.topPosts.empty}">-->
<!--        <div class="post-item" th:each="post, iterStat : ${stats.topPosts}">-->
<!--          <div class="post-rank" th:switch="${iterStat.index}">-->
<!--            <span th:case="0">ü•á</span>-->
<!--            <span th:case="1">ü•à</span>-->
<!--            <span th:case="2">ü•â</span>-->
<!--            <span th:case="*" th:text="${iterStat.index + 1}">4</span>-->
<!--          </div>-->
<!--          <div class="post-content">-->
<!--            <div class="post-text" th:text="${post.content}">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞...</div>-->
<!--            <div class="post-stats">-->
<!--              <span><i class="fas fa-heart"></i> <span th:text="${post.likesCount}">234</span></span>-->
<!--              <span><i class="fas fa-comment"></i> <span th:text="${post.commentsCount}">45</span></span>-->
<!--              <span><i class="fas fa-eye"></i> <span th:text="${post.viewsCount}">1.2k</span></span>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div th:if="${stats.topPosts == null or stats.topPosts.empty}"-->
<!--           style="text-align: center; color: var(&#45;&#45;text-muted); padding: 2rem;">-->
<!--        <i class="fas fa-inbox" style="font-size: 2rem; margin-bottom: 1rem;"></i>-->
<!--        <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤</p>-->
<!--        <p style="font-size: 0.9rem;">–°–æ–∑–¥–∞–π—Ç–µ –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</p>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; 5. –ì–µ–æ–≥—Ä–∞—Ñ–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏ &ndash;&gt;-->
<!--    <div class="stats-card" th:if="${stats.geography != null}">-->
<!--      <div class="card-header">-->
<!--        <i class="card-icon fas fa-globe"></i>-->
<!--        <h3 class="card-title">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</h3>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–û—Å–Ω–æ–≤–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</span>-->
<!--        <span class="metric-value" th:text="${stats.geography.mainCountry + ' (' + stats.geography.mainPercentage + '%)'}">"üáπüá∑ –¢—É—Ä—Ü–∏—è (45%)"</span>-->
<!--      </div>-->

<!--      <div class="geography-tags">-->
<!--        <div class="geo-tag" th:each="city : ${stats.geography.cities}"-->
<!--             th:text="${city.name + ' (' + city.percentage + '%)'}">"üáπüá∑ –ê–Ω—Ç–∞–ª–∏—è (23%)"</div>-->
<!--      </div>-->

<!--      <div class="chart-container">-->
<!--        <span>üìä –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞)</span>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; 6. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è &ndash;&gt;-->
<!--    <div class="stats-card">-->
<!--      <div class="card-header">-->
<!--        <i class="card-icon fas fa-clock"></i>-->
<!--        <h3 class="card-title">–õ—É—á—à–µ–µ –≤—Ä–µ–º—è</h3>-->
<!--      </div>-->

<!--      <div class="optimal-time">-->
<!--        <div class="time-value" th:text="${stats.optimalPostTime}">18:00 - 20:00</div>-->
<!--        <div class="time-description">-->
<!--          –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏<br>-->
<!--          <strong th:text="${stats.bestDay + ', –≤–µ—á–µ—Ä'}">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, –≤–µ—á–µ—Ä</strong>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div class="metric-row" style="margin-top: 1rem;">-->
<!--        <span class="metric-label">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω</span>-->
<!--        <span class="metric-value" th:text="${stats.avgOnlineTime}">2.3 —á–∞—Å–∞</span>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">–ü–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</span>-->
<!--        <span class="metric-value" th:text="${stats.peakActivity}">19:30</span>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; 7. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ &ndash;&gt;-->
<!--    <div class="stats-card" th:if="${stats.contentTypes != null}">-->
<!--      <div class="card-header">-->
<!--        <i class="card-icon fas fa-chart-pie"></i>-->
<!--        <h3 class="card-title">–¢–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h3>-->
<!--      </div>-->

<!--&lt;!&ndash;      <div class="metric-row">&ndash;&gt;-->
<!--&lt;!&ndash;        <span class="metric-label">üì∏ –§–æ—Ç–æ</span>&ndash;&gt;-->
<!--&lt;!&ndash;        <div>&ndash;&gt;-->
<!--&lt;!&ndash;          <span class="metric-value" th:text="${stats.contentTypes.photo + '%'}">67%</span>&ndash;&gt;-->
<!--&lt;!&ndash;          <span class="badge" th:classappend="${stats.contentTypes.photo > 50} ? 'badge-success' : 'badge-info'">&ndash;&gt;-->
<!--&lt;!&ndash;            <span th:if="${stats.contentTypes.photo > 50}">–ü–æ–ø—É–ª—è—Ä–Ω–æ</span>&ndash;&gt;-->
<!--&lt;!&ndash;            <span th:unless="${stats.contentTypes.photo > 50}">–†–∞–∑–≤–∏–≤–∞—Ç—å</span>&ndash;&gt;-->
<!--&lt;!&ndash;          </span>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">üìù –¢–µ–∫—Å—Ç</span>-->
<!--        <span class="metric-value" th:text="${stats.contentTypes.text + '%'}">23%</span>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">üé• –í–∏–¥–µ–æ</span>-->
<!--        <div>-->
<!--          <span class="metric-value" th:text="${stats.contentTypes.video + '%'}">10%</span>-->
<!--          <span class="badge badge-warning">–†–∞–∑–≤–∏–≤–∞—Ç—å</span>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div style="margin-top: 1rem; padding: 1rem; background: var(&#45;&#45;bg-accent); border-radius: var(&#45;&#45;radius-md);"-->
<!--           th:if="${stats.contentTypes.recommendation != null}">-->
<!--        <div style="font-weight: 600; color: var(&#45;&#45;accent-primary); margin-bottom: 0.5rem;">-->
<!--          üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è-->
<!--        </div>-->
<!--        <div style="color: var(&#45;&#45;text-secondary); font-size: 0.9rem;" th:text="${stats.contentTypes.recommendation}">-->
<!--          –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; 8. –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —Ü–µ–ª–∏ &ndash;&gt;-->
<!--    <div class="stats-card">-->
<!--      <div class="card-header">-->
<!--        <i class="card-icon fas fa-trophy"></i>-->
<!--        <h3 class="card-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>-->
<!--      </div>-->

<!--      <div class="metric-row">-->
<!--        <span class="metric-label">üèÜ –í—Å–µ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</span>-->
<!--        <span class="metric-value" th:text="${stats.totalAchievements}">12/20</span>-->
<!--      </div>-->

<!--      <div style="margin: 1rem 0;" th:if="${stats.achievements != null and !stats.achievements.empty}">-->
<!--        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">-->
<!--          <span class="badge badge-success" th:each="achievement : ${stats.achievements}" th:text="${achievement}">üìà 1–ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</span>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div style="margin: 1rem 0;" th:if="${stats.achievements == null or stats.achievements.empty}">-->
<!--        <div style="text-align: center; color: var(&#45;&#45;text-muted); padding: 1rem;">-->
<!--          <i class="fas fa-star" style="font-size: 2rem; margin-bottom: 0.5rem;"></i>-->
<!--          <p>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>-->
<!--          <p style="font-size: 0.9rem;">–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç!</p>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div style="margin-top: 1rem;" th:if="${stats.nextGoal != null}">-->
<!--        <div style="color: var(&#45;&#45;text-secondary); margin-bottom: 0.5rem;">–°–ª–µ–¥—É—é—â–∞—è —Ü–µ–ª—å:</div>-->
<!--        <div style="font-weight: 600; color: var(&#45;&#45;accent-primary);" th:text="${stats.nextGoal}">-->
<!--          üéØ 3000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (–æ—Å—Ç–∞–ª–æ—Å—å 466)-->
<!--        </div>-->
<!--        <div class="progress-bar" style="margin-top: 0.5rem;">-->
<!--          <div class="progress-fill" th:style="'width: ' + ${stats.goalProgress} + '%;'"></div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

<!--  </div>-->

<!--  &lt;!&ndash; –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π &ndash;&gt;-->
<!--  <div class="action-buttons">-->
<!--    <a th:href="@{/profile/{userId}/stats/export(userId=${currentUserId})}" class="btn btn-primary">-->
<!--      <i class="fas fa-download"></i>-->
<!--      –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö-->
<!--    </a>-->
<!--    <a href="/posts/create" class="btn btn-secondary">-->
<!--      <i class="fas fa-plus"></i>-->
<!--      –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç-->
<!--    </a>-->
<!--    <button onclick="scheduleOptimalPost()" class="btn btn-secondary">-->
<!--      <i class="fas fa-calendar-plus"></i>-->
<!--      –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç-->
<!--    </button>-->
<!--    <a th:href="@{/profile/{userId}(userId=${currentUserId})}" class="btn btn-secondary">-->
<!--      <i class="fas fa-user"></i>-->
<!--      –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–æ—Ñ–∏–ª—é-->
<!--    </a>-->
<!--  </div>-->
<!--</div>-->

<!--<script th:inline="javascript">-->
<!--  // –ü–µ—Ä–µ–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ JavaScript –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏-->
<!--  const STATS_DATA = {-->
<!--    profileViews: /*[[${stats.profileViews}]]*/ 0,-->
<!--    totalLikes: /*[[${stats.totalLikes}]]*/ 0,-->
<!--    followersCount: /*[[${stats.followersCount}]]*/ 0,-->
<!--    postsCount: /*[[${stats.postsCount}]]*/ 0,-->
<!--    bestDay: /*[[${stats.bestDay}]]*/ '–í–°',-->
<!--    weeklyActivity: /*[[${stats.weeklyActivity}]]*/ {}-->
<!--  };-->

<!--  // –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏-->
<!--  function scheduleOptimalPost() {-->
<!--    const optimalTime = /*[[${stats.optimalPostTime}]]*/ '18:00 - 20:00';-->
<!--    const bestDay = /*[[${stats.bestDay}]]*/ '–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ';-->

<!--    alert(`–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ—Å—Ç–∞:\n${bestDay}, ${optimalTime}\n\n–§—É–Ω–∫—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –±—É–¥—É—â–µ–º!`);-->
<!--  }-->

<!--  // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ-->
<!--  document.addEventListener('DOMContentLoaded', function() {-->
<!--    const cards = document.querySelectorAll('.stats-card');-->
<!--    cards.forEach((card, index) => {-->
<!--      card.style.opacity = '0';-->
<!--      card.style.transform = 'translateY(20px)';-->
<!--      setTimeout(() => {-->
<!--        card.style.transition = 'all 0.5s ease';-->
<!--        card.style.opacity = '1';-->
<!--        card.style.transform = 'translateY(0)';-->
<!--      }, index * 100);-->
<!--    });-->

<!--    // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π-->
<!--    animateCounters();-->
<!--  });-->

<!--  function animateCounters() {-->
<!--    const counters = document.querySelectorAll('.metric-value');-->
<!--    counters.forEach(counter => {-->
<!--      const text = counter.textContent;-->
<!--      const number = parseFloat(text.replace(/[^\d.]/g, ''));-->

<!--      if (!isNaN(number) && number > 0) {-->
<!--        animateNumber(counter, 0, number, text);-->
<!--      }-->
<!--    });-->
<!--  }-->

<!--  function animateNumber(element, start, end, originalText) {-->
<!--    const duration = 1000;-->
<!--    const startTime = performance.now();-->

<!--    function update(currentTime) {-->
<!--      const elapsed = currentTime - startTime;-->
<!--      const progress = Math.min(elapsed / duration, 1);-->

<!--      const current = Math.floor(start + (end - start) * progress);-->

<!--      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (K, M, %, –∏ —Ç.–¥.)-->
<!--      if (originalText.includes('K')) {-->
<!--        element.textContent = (current / 1000).toFixed(1) + 'K';-->
<!--      } else if (originalText.includes('M')) {-->
<!--        element.textContent = (current / 1000000).toFixed(1) + 'M';-->
<!--      } else if (originalText.includes('%')) {-->
<!--        element.textContent = current + '%';-->
<!--      } else if (originalText.includes('+')) {-->
<!--        element.textContent = '+' + current;-->
<!--      } else if (originalText.includes('-')) {-->
<!--        element.textContent = '-' + current;-->
<!--      } else {-->
<!--        element.textContent = current.toLocaleString();-->
<!--      }-->

<!--      if (progress < 1) {-->
<!--        requestAnimationFrame(update);-->
<!--      } else {-->
<!--        element.textContent = originalText; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç-->
<!--      }-->
<!--    }-->

<!--    requestAnimationFrame(update);-->
<!--  }-->

<!--  // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —ç–∫—Å–ø–æ—Ä—Ç–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä-->
<!--  const urlParams = new URLSearchParams(window.location.search);-->
<!--  if (urlParams.get('exported') === 'true') {-->
<!--    showNotification('–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞–ø—É—â–µ–Ω! –§–∞–π–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.', 'success');-->
<!--  }-->

<!--  function showNotification(message, type = 'info') {-->
<!--    const notification = document.createElement('div');-->
<!--    notification.style.cssText = `-->
<!--      position: fixed;-->
<!--      top: 20px;-->
<!--      right: 20px;-->
<!--      background: ${type === 'success' ? 'var(&#45;&#45;accent-success)' : 'var(&#45;&#45;accent-info)'};-->
<!--      color: white;-->
<!--      padding: 1rem 1.5rem;-->
<!--      border-radius: var(&#45;&#45;radius-md);-->
<!--      box-shadow: var(&#45;&#45;shadow-lg);-->
<!--      z-index: 1000;-->
<!--      animation: slideInRight 0.3s ease;-->
<!--    `;-->

<!--    notification.innerHTML = `-->
<!--      <div style="display: flex; align-items: center; gap: 0.5rem;">-->
<!--        <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-info-circle'}"></i>-->
<!--        <span>${message}</span>-->
<!--        <button onclick="this.parentElement.parentElement.remove()"-->
<!--                style="background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; margin-left: 0.5rem;">-->
<!--          √ó-->
<!--        </button>-->
<!--      </div>-->
<!--    `;-->

<!--    document.body.appendChild(notification);-->

<!--    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–±–∏—Ä–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥-->
<!--    setTimeout(() => {-->
<!--      if (notification.parentElement) {-->
<!--        notification.remove();-->
<!--      }-->
<!--    }, 5000);-->
<!--  }-->

<!--  // –î–æ–±–∞–≤–ª—è–µ–º CSS –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π-->
<!--  const style = document.createElement('style');-->
<!--  style.textContent = `-->
<!--    @keyframes slideInRight {-->
<!--      from {-->
<!--        transform: translateX(100%);-->
<!--        opacity: 0;-->
<!--      }-->
<!--      to {-->
<!--        transform: translateX(0);-->
<!--        opacity: 1;-->
<!--      }-->
<!--    }-->

<!--    .stats-card {-->
<!--      animation: fadeInUp 0.6s ease forwards;-->
<!--    }-->

<!--    @keyframes fadeInUp {-->
<!--      from {-->
<!--        opacity: 0;-->
<!--        transform: translateY(30px);-->
<!--      }-->
<!--      to {-->
<!--        opacity: 1;-->
<!--        transform: translateY(0);-->
<!--      }-->
<!--    }-->
<!--  `;-->
<!--  document.head.appendChild(style);-->
<!--</script>-->

<!--&lt;!&ndash; –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞ &ndash;&gt;-->
<!--<script th:src="@{/js/online-status.js}"></script>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è - Cleopatra</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0f0f0f;
      --bg-secondary: #1a1a1a;
      --bg-accent: #2a2a2a;
      --text-primary: #ffffff;
      --text-secondary: #b3b3b3;
      --text-muted: #666666;
      --accent-primary: #d4af37;
      --accent-secondary: #b8941f;
      --accent-success: #10b981;
      --accent-warning: #f59e0b;
      --accent-danger: #ef4444;
      --accent-info: #3b82f6;
      --border-color: #333333;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
      --radius-sm: 0.375rem;
      --radius-md: 0.5rem;
      --radius-lg: 0.75rem;
      --radius-xl: 1rem;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    .page-header {
      text-align: center;
      margin-bottom: 3rem;
      padding: 2rem 0;
      background: linear-gradient(135deg, var(--bg-secondary), var(--bg-accent));
      border-radius: var(--radius-xl);
      border: 1px solid var(--border-color);
    }

    .page-title {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--accent-primary);
      margin-bottom: 0.5rem;
    }

    .page-subtitle {
      color: var(--text-secondary);
      font-size: 1.1rem;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    }

    .stats-card {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-xl);
      padding: 2rem;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .stats-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-xl);
      border-color: var(--accent-primary);
    }

    .stats-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
    }

    .card-header {
      display: flex;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .card-icon {
      font-size: 2rem;
      margin-right: 1rem;
      padding: 0.75rem;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border-radius: var(--radius-lg);
    }

    .card-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .metric-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
      border-bottom: 1px solid var(--border-color);
    }

    .metric-row:last-child {
      border-bottom: none;
    }

    .metric-label {
      color: var(--text-secondary);
      font-weight: 500;
    }

    .metric-value {
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    .metric-trend {
      font-size: 0.9rem;
      margin-left: 0.5rem;
    }

    .trend-up { color: var(--accent-success); }
    .trend-down { color: var(--accent-danger); }
    .trend-stable { color: var(--text-muted); }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: var(--bg-accent);
      border-radius: var(--radius-sm);
      overflow: hidden;
      margin-top: 0.5rem;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
      transition: width 0.3s ease;
    }

    .chart-container {
      height: 200px;
      background: var(--bg-accent);
      border-radius: var(--radius-md);
      margin-top: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
      font-style: italic;
    }

    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: var(--radius-sm);
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .badge-success { background: var(--accent-success); color: white; }
    .badge-warning { background: var(--accent-warning); color: white; }
    .badge-info { background: var(--accent-info); color: white; }
    .badge-danger { background: var(--accent-danger); color: white; }

    .action-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 3rem;
      flex-wrap: wrap;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: var(--radius-md);
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
    }

    .btn-secondary {
      background: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .weekly-activity {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .day-activity {
      text-align: center;
      padding: 1rem 0.5rem;
      background: var(--bg-accent);
      border-radius: var(--radius-md);
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }

    .day-activity.active {
      border-color: var(--accent-primary);
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
    }

    .day-name {
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .day-value {
      font-size: 1.2rem;
      font-weight: 700;
    }

    .top-posts {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1rem;
    }

    .post-item {
      display: flex;
      align-items: center;
      padding: 1rem;
      background: var(--bg-accent);
      border-radius: var(--radius-md);
      transition: all 0.3s ease;
    }

    .post-item:hover {
      background: var(--border-color);
    }

    .post-rank {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--accent-primary);
      margin-right: 1rem;
      min-width: 40px;
    }

    .post-content {
      flex: 1;
    }

    .post-text {
      color: var(--text-primary);
      margin-bottom: 0.5rem;
    }

    .post-stats {
      display: flex;
      gap: 1rem;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .geography-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .geo-tag {
      padding: 0.5rem 1rem;
      background: var(--bg-accent);
      border-radius: var(--radius-sm);
      font-size: 0.9rem;
      color: var(--text-secondary);
      border: 1px solid var(--border-color);
    }

    .optimal-time {
      text-align: center;
      padding: 2rem;
      background: linear-gradient(135deg, var(--accent-info), #1e40af);
      border-radius: var(--radius-lg);
      color: white;
      margin-top: 1rem;
    }

    .time-value {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .time-description {
      opacity: 0.9;
    }

    /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π */
    .visitor-stats {
      background: var(--bg-accent);
      border-radius: var(--radius-md);
      padding: 1.5rem;
      margin-top: 1rem;
    }

    .visitor-stats-title {
      font-weight: 600;
      color: var(--accent-primary);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .visitor-metric {
      display: flex;
      justify-content: space-between;
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--border-color);
    }

    .visitor-metric:last-child {
      border-bottom: none;
    }

    .visitor-label {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .visitor-value {
      color: var(--text-primary);
      font-weight: 600;
    }

    .content-recommendation {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      padding: 1rem;
      border-radius: var(--radius-md);
      margin-top: 1rem;
    }

    .recommendation-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .loading-skeleton {
      background: linear-gradient(90deg, var(--bg-accent), var(--border-color), var(--bg-accent));
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
      border-radius: var(--radius-sm);
      height: 1.5rem;
    }

    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    @media (max-width: 768px) {
      .container {
        padding: 1rem 0.5rem;
      }

      .page-title {
        font-size: 2rem;
      }

      .stats-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .weekly-activity {
        grid-template-columns: repeat(4, 1fr);
      }

      .action-buttons {
        flex-direction: column;
        align-items: center;
      }

      .metric-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
      }

      .post-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      .post-rank {
        margin-right: 0;
      }
    }
  </style>
</head>
<body>
<div class="container">
  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
  <div class="page-header">
    <h1 class="page-title">
      <i class="fas fa-chart-line"></i>
      –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
    </h1>
    <p class="page-subtitle" th:text="'–ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è ' + ${user.firstName} + ' ' + ${user.lastName}">
      –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    </p>
  </div>

  <!-- –°–µ—Ç–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ -->
  <div class="stats-grid">

    <!-- 1. –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ -->
    <div class="stats-card">
      <div class="card-header">
        <i class="card-icon fas fa-eye"></i>
        <h3 class="card-title">–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏</h3>
      </div>

      <div class="metric-row">
        <span class="metric-label">–ü—Ä–æ—Å–º–æ—Ç—Ä—ã –ø—Ä–æ—Ñ–∏–ª—è</span>
        <div>
          <span class="metric-value" th:text="${stats.profileViews}">1,247</span>
          <span class="metric-trend trend-up">
            <i class="fas fa-arrow-up"></i> +12%
          </span>
        </div>
      </div>

      <div class="metric-row">
        <span class="metric-label">–í—Å–µ–≥–æ –ª–∞–π–∫–æ–≤</span>
        <div>
          <span class="metric-value" th:text="${stats.totalLikes}">3,456</span>
          <span class="metric-trend trend-up">
            <i class="fas fa-arrow-up"></i> +8%
          </span>
        </div>
      </div>

      <div class="metric-row">
        <span class="metric-label">–í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å</span>
        <div>
          <span class="metric-value" th:text="${stats.avgEngagement}">7.2%</span>
          <span class="metric-trend trend-stable">
            <i class="fas fa-minus"></i> —Å—Ç–∞–±–∏–ª—å–Ω–æ
          </span>
        </div>
      </div>

      <div class="metric-row">
        <span class="metric-label">–ü–æ—Å—Ç–æ–≤ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ</span>
        <div>
          <span class="metric-value" th:text="${stats.postsCount}">89</span>
          <span class="metric-trend trend-up">
            <i class="fas fa-arrow-up"></i> –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
          </span>
        </div>
      </div>
    </div>

    <!-- 2. –†–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ -->
    <div class="stats-card">
      <div class="card-header">
        <i class="card-icon fas fa-users"></i>
        <h3 class="card-title">–ü–æ–¥–ø–∏—Å—á–∏–∫–∏</h3>
      </div>

      <div class="metric-row">
        <span class="metric-label">–í—Å–µ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</span>
        <div>
          <span class="metric-value" th:text="${stats.followersCount}">2,534</span>
          <span class="badge badge-success">–†–∞—Å—Ç–µ—Ç</span>
        </div>
      </div>

      <div class="metric-row">
        <span class="metric-label">–ù–æ–≤—ã—Ö –∑–∞ –Ω–µ–¥–µ–ª—é</span>
        <span class="metric-value" th:text="'+' + ${stats.newFollowersWeek}">+47</span>
      </div>

      <div class="metric-row">
        <span class="metric-label">–û—Ç–ø–∏—Å–æ–∫ –∑–∞ –Ω–µ–¥–µ–ª—é</span>
        <span class="metric-value" th:text="'-' + ${stats.unfollowersWeek}">-12</span>
      </div>

      <div class="metric-row">
        <span class="metric-label">–ß–∏—Å—Ç—ã–π –ø—Ä–∏—Ä–æ—Å—Ç</span>
        <span class="metric-value" th:text="${stats.netGrowth > 0 ? '+' + stats.netGrowth : stats.netGrowth}"
              th:classappend="${stats.netGrowth > 0 ? 'trend-up' : stats.netGrowth < 0 ? 'trend-down' : 'trend-stable'}">+35</span>
      </div>

      <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ —Ü–µ–ª–∏ -->
      <div style="margin-top: 1rem;">
        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
          <span class="metric-label">–ü—Ä–æ–≥—Ä–µ—Å—Å –∫ —Ü–µ–ª–∏</span>
          <span style="color: var(--accent-primary);" th:text="${stats.goalProgress} + '%'">84.5%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" th:style="'width: ' + ${stats.goalProgress} + '%;'"></div>
        </div>
        <div style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);" th:text="${stats.nextGoal}">
          üéØ 3000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (–æ—Å—Ç–∞–ª–æ—Å—å 466)
        </div>
      </div>
    </div>

    <!-- 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π -->
    <div class="stats-card" th:if="${stats.visitorStats != null}">
      <div class="card-header">
        <i class="card-icon fas fa-users-viewfinder"></i>
        <h3 class="card-title">–ü–æ—Å–µ—Ç–∏—Ç–µ–ª–∏</h3>
      </div>

      <div class="visitor-stats">
        <div class="visitor-metric">
          <span class="visitor-label">–í—Å–µ–≥–æ –≤–∏–∑–∏—Ç–æ–≤</span>
          <span class="visitor-value" th:text="${stats.visitorStats.totalVisits}">1,247</span>
        </div>

        <div class="visitor-metric">
          <span class="visitor-label">–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏</span>
          <span class="visitor-value" th:text="${stats.visitorStats.uniqueVisitors}">892</span>
        </div>

        <div class="visitor-metric">
          <span class="visitor-label">–í–∏–∑–∏—Ç–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é</span>
          <span class="visitor-value" th:text="${stats.visitorStats.visitsThisWeek}">156</span>
        </div>

        <div class="visitor-metric">
          <span class="visitor-label">–í–∏–∑–∏—Ç–æ–≤ —Å–µ–≥–æ–¥–Ω—è</span>
          <span class="visitor-value" th:text="${stats.visitorStats.visitsToday}">23</span>
        </div>

        <div class="visitor-metric">
          <span class="visitor-label">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞</span>
          <span class="visitor-value" th:text="${stats.visitorStats.returnRate}">28.5%</span>
        </div>

        <div class="visitor-metric">
          <span class="visitor-label">–í–∏–∑–∏—Ç–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è</span>
          <span class="visitor-value" th:text="${stats.visitorStats.avgVisitsPerVisitor}">1.4</span>
        </div>

<!--        <div class="visitor-metric">-->
<!--          <span class="visitor-label">–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP</span>-->
<!--          <span class="visitor-value" th:text="${stats.visitorStats.uniqueIpAddresses}">743</span>-->
<!--        </div>-->
      </div>
    </div>

    <!-- 4. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ -->
    <div class="stats-card">
      <div class="card-header">
        <i class="card-icon fas fa-calendar-week"></i>
        <h3 class="card-title">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º</h3>
      </div>

      <div class="weekly-activity">
        <div th:each="day : ${stats.weeklyActivity}"
             class="day-activity"
             th:classappend="${day.key == stats.bestDay} ? 'active' : ''">
          <div class="day-name" th:text="${day.key}">–ü–ù</div>
          <div class="day-value" th:text="${day.value}">245</div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 1rem; color: var(--text-secondary);">
        <i class="fas fa-crown" style="color: var(--accent-primary);"></i>
        –õ—É—á—à–∏–π –¥–µ–Ω—å: <strong style="color: var(--accent-primary);" th:text="${stats.bestDay}">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ</strong>
      </div>
    </div>

    <!-- 5. –¢–æ–ø –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ -->
    <div class="stats-card">
      <div class="card-header">
        <i class="card-icon fas fa-fire"></i>
        <h3 class="card-title">–¢–æ–ø-3 –ø–æ—Å—Ç–∞</h3>
      </div>

      <div class="top-posts" th:if="${stats.topPosts != null and !stats.topPosts.empty}">
        <div class="post-item" th:each="post, iterStat : ${stats.topPosts}">
          <div class="post-rank" th:switch="${iterStat.index}">
            <span th:case="0">ü•á</span>
            <span th:case="1">ü•à</span>
            <span th:case="2">ü•â</span>
            <span th:case="*" th:text="${iterStat.index + 1}">4</span>
          </div>
          <div class="post-content">
            <div class="post-text" th:text="${post.content}">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞...</div>
            <div class="post-stats">
              <span><i class="fas fa-heart"></i> <span th:text="${post.likesCount}">234</span></span>
              <span><i class="fas fa-comment"></i> <span th:text="${post.commentsCount}">45</span></span>
              <span><i class="fas fa-eye"></i> <span th:text="${post.viewsCount}">1.2k</span></span>
            </div>
          </div>
        </div>
      </div>

      <div th:if="${stats.topPosts == null or stats.topPosts.empty}"
           style="text-align: center; color: var(--text-muted); padding: 2rem;">
        <i class="fas fa-inbox" style="font-size: 2rem; margin-bottom: 1rem;"></i>
        <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤</p>
        <p style="font-size: 0.9rem;">–°–æ–∑–¥–∞–π—Ç–µ –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</p>
      </div>
    </div>

    <!-- 6. –ì–µ–æ–≥—Ä–∞—Ñ–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏ -->
    <div class="stats-card" th:if="${stats.geography != null}">
      <div class="card-header">
        <i class="card-icon fas fa-globe"></i>
        <h3 class="card-title">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</h3>
      </div>

      <div class="metric-row">
        <span class="metric-label">–û—Å–Ω–æ–≤–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</span>
        <span class="metric-value" th:text="${stats.geography.mainCountry + ' (' + stats.geography.mainPercentage + '%)'}">"üáπüá∑ –¢—É—Ä—Ü–∏—è (45%)"</span>
      </div>

      <div class="geography-tags">
        <div class="geo-tag" th:each="city : ${stats.geography.cities}"
             th:text="${city.name + ' (' + city.percentage + '%)'}">"üáπüá∑ –ê–Ω—Ç–∞–ª–∏—è (23%)"</div>
      </div>

      <div class="chart-container">
        <span>üìä –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞)</span>
      </div>
    </div>

    <!-- 7. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è -->
    <div class="stats-card">
      <div class="card-header">
        <i class="card-icon fas fa-clock"></i>
        <h3 class="card-title">–õ—É—á—à–µ–µ –≤—Ä–µ–º—è</h3>
      </div>

      <div class="optimal-time">
        <div class="time-value" th:text="${stats.optimalPostTime}">18:00 - 20:00</div>
        <div class="time-description">
          –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏<br>
          <strong th:text="${stats.bestDay + ', –≤–µ—á–µ—Ä'}">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, –≤–µ—á–µ—Ä</strong>
        </div>
      </div>

      <div class="metric-row" style="margin-top: 1rem;">
        <span class="metric-label">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω</span>
        <span class="metric-value" th:text="${stats.avgOnlineTime}">2.3 —á–∞—Å–∞</span>
      </div>

      <div class="metric-row">
        <span class="metric-label">–ü–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</span>
        <span class="metric-value" th:text="${stats.peakActivity}">19:30</span>
      </div>
    </div>

    <!-- 8. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ -->
    <div class="stats-card" th:if="${stats.contentTypes != null}">
      <div class="card-header">
        <i class="card-icon fas fa-chart-pie"></i>
        <h3 class="card-title">–¢–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h3>
      </div>

      <div class="metric-row">
        <span class="metric-label">üì∏ –§–æ—Ç–æ</span>
        <div>
          <span class="metric-value" th:text="${stats.contentTypes.photo + '%'}">67%</span>
          <span class="badge" th:classappend="${stats.contentTypes.photo > 50} ? 'badge-success' : 'badge-info'">
            <span th:if="${stats.contentTypes.photo > 50}">–ü–æ–ø—É–ª—è—Ä–Ω–æ</span>
            <span th:unless="${stats.contentTypes.photo > 50}">–†–∞–∑–≤–∏–≤–∞—Ç—å</span>
          </span>
        </div>
      </div>

      <div class="metric-row">
        <span class="metric-label">üìù –¢–µ–∫—Å—Ç</span>
        <span class="metric-value" th:text="${stats.contentTypes.text + '%'}">23%</span>
      </div>

      <div class="metric-row">
        <span class="metric-label">üé• –í–∏–¥–µ–æ</span>
        <div>
          <span class="metric-value" th:text="${stats.contentTypes.video + '%'}">10%</span>
          <span class="badge badge-warning">–†–∞–∑–≤–∏–≤–∞—Ç—å</span>
        </div>
      </div>

      <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É -->
      <div class="content-recommendation" th:if="${stats.contentTypes.recommendation != null}">
        <div class="recommendation-title">
          <i class="fas fa-lightbulb"></i>
          –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
        </div>
        <div style="font-size: 0.9rem; opacity: 0.9;" th:text="${stats.contentTypes.recommendation}">
          –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
        </div>
      </div>
    </div>

    <!-- 9. –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —Ü–µ–ª–∏ -->
    <div class="stats-card">
      <div class="card-header">
        <i class="card-icon fas fa-trophy"></i>
        <h3 class="card-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
      </div>

      <div class="metric-row">
        <span class="metric-label">üèÜ –í—Å–µ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</span>
        <span class="metric-value" th:text="${stats.totalAchievements}">12/25</span>
      </div>

      <div style="margin: 1rem 0;" th:if="${stats.achievements != null and !stats.achievements.empty}">
        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
          <span class="badge badge-success" th:each="achievement : ${stats.achievements}" th:text="${achievement}">üìà 1–ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</span>
        </div>
      </div>

      <div style="margin: 1rem 0;" th:if="${stats.achievements == null or stats.achievements.empty}">
        <div style="text-align: center; color: var(--text-muted); padding: 1rem;">
          <i class="fas fa-star" style="font-size: 2rem; margin-bottom: 0.5rem;"></i>
          <p>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>
          <p style="font-size: 0.9rem;">–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç!</p>
        </div>
      </div>

      <div style="margin-top: 1rem;" th:if="${stats.nextGoal != null}">
        <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">–°–ª–µ–¥—É—é—â–∞—è —Ü–µ–ª—å:</div>
        <div style="font-weight: 600; color: var(--accent-primary);" th:text="${stats.nextGoal}">
          üéØ 3000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (–æ—Å—Ç–∞–ª–æ—Å—å 466)
        </div>
        <div class="progress-bar" style="margin-top: 0.5rem;">
          <div class="progress-fill" th:style="'width: ' + ${stats.goalProgress} + '%;'"></div>
        </div>
      </div>
    </div>

  </div>

  <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
  <div class="action-buttons">
    <a th:href="@{/showProfileStats/{userId}/stats/export(userId=${currentUserId})}" class="btn btn-primary">
      <i class="fas fa-download"></i>
      –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
    </a>
    <a href="/posts/create" class="btn btn-secondary">
      <i class="fas fa-plus"></i>
      –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
    </a>
    <button onclick="scheduleOptimalPost()" class="btn btn-secondary">
      <i class="fas fa-calendar-plus"></i>
      –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç
    </button>
    <a th:href="@{/profile/{userId}(userId=${currentUserId})}" class="btn btn-secondary">
      <i class="fas fa-user"></i>
      –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–æ—Ñ–∏–ª—é
    </a>
  </div>
</div>

<script th:inline="javascript">
  // –ü–µ—Ä–µ–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ JavaScript –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
  const STATS_DATA = {
    profileViews: /*[[${stats.profileViews}]]*/ 0,
    totalLikes: /*[[${stats.totalLikes}]]*/ 0,
    followersCount: /*[[${stats.followersCount}]]*/ 0,
    postsCount: /*[[${stats.postsCount}]]*/ 0,
    bestDay: /*[[${stats.bestDay}]]*/ '–í–°',
    weeklyActivity: /*[[${stats.weeklyActivity}]]*/ {},
    visitorStats: /*[[${stats.visitorStats}]]*/ {}
  };

  // –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
  function scheduleOptimalPost() {
    const optimalTime = /*[[${stats.optimalPostTime}]]*/ '18:00 - 20:00';
    const bestDay = /*[[${stats.bestDay}]]*/ '–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ';

    alert(`–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ—Å—Ç–∞:\n${bestDay}, ${optimalTime}\n\n–§—É–Ω–∫—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –±—É–¥—É—â–µ–º!`);
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  document.addEventListener('DOMContentLoaded', function() {
    const cards = document.querySelectorAll('.stats-card');
    cards.forEach((card, index) => {
      card.style.opacity = '0';
      card.style.transform = 'translateY(20px)';
      setTimeout(() => {
        card.style.transition = 'all 0.5s ease';
        card.style.opacity = '1';
        card.style.transform = 'translateY(0)';
      }, index * 100);
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    animateCounters();
  });

  function animateCounters() {
    const counters = document.querySelectorAll('.metric-value, .visitor-value');
    counters.forEach(counter => {
      const text = counter.textContent;
      const number = parseFloat(text.replace(/[^\d.]/g, ''));

      if (!isNaN(number) && number > 0) {
        animateNumber(counter, 0, number, text);
      }
    });
  }

  function animateNumber(element, start, end, originalText) {
    const duration = 1000;
    const startTime = performance.now();

    function update(currentTime) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);

      const current = Math.floor(start + (end - start) * progress);

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (K, M, %, –∏ —Ç.–¥.)
      if (originalText.includes('K')) {
        element.textContent = (current / 1000).toFixed(1) + 'K';
      } else if (originalText.includes('M')) {
        element.textContent = (current / 1000000).toFixed(1) + 'M';
      } else if (originalText.includes('%')) {
        element.textContent = current + '%';
      } else if (originalText.includes('+')) {
        element.textContent = '+' + current;
      } else if (originalText.includes('-')) {
        element.textContent = '-' + current;
      } else {
        element.textContent = current.toLocaleString();
      }

      if (progress < 1) {
        requestAnimationFrame(update);
      } else {
        element.textContent = originalText; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
      }
    }

    requestAnimationFrame(update);
  }

  // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —ç–∫—Å–ø–æ—Ä—Ç–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('exported') === 'true') {
    showNotification('–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞–ø—É—â–µ–Ω! –§–∞–π–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.', 'success');
  }

  function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: ${type === 'success' ? 'var(--accent-success)' : 'var(--accent-info)'};
      color: white;
      padding: 1rem 1.5rem;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      z-index: 1000;
      animation: slideInRight 0.3s ease;
    `;

    notification.innerHTML = `
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-info-circle'}"></i>
        <span>${message}</span>
        <button onclick="this.parentElement.parentElement.remove()"
                style="background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; margin-left: 0.5rem;">
          √ó
        </button>
      </div>
    `;

    document.body.appendChild(notification);

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–±–∏—Ä–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
      if (notification.parentElement) {
        notification.remove();
      }
    }, 5000);
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  function refreshStats() {
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å AJAX –∑–∞–ø—Ä–æ—Å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    console.log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...');

    // –ü—Ä–∏–º–µ—Ä: –¥–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –∑–∞–≥—Ä—É–∑–∫–∏
    const cards = document.querySelectorAll('.stats-card');
    cards.forEach(card => {
      card.style.opacity = '0.7';
      card.style.filter = 'grayscale(20%)';
    });

    // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É
    setTimeout(() => {
      cards.forEach(card => {
        card.style.opacity = '1';
        card.style.filter = 'none';
      });
      showNotification('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!', 'success');
    }, 1000);
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º
  function compareWithPrevious() {
    // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    showNotification('–§—É–Ω–∫—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏', 'info');
  }

  // –î–æ–±–∞–≤–ª—è–µ–º CSS –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideInRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .stats-card {
      animation: fadeInUp 0.6s ease forwards;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
    .visitor-metric:hover {
      background: var(--border-color);
      border-radius: var(--radius-sm);
      padding: 0.5rem;
      margin: 0 -0.5rem;
    }

    .post-item:hover .post-rank {
      transform: scale(1.2);
      transition: transform 0.3s ease;
    }

    .day-activity:hover {
      transform: scale(1.05);
      cursor: pointer;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è */
    @media (max-width: 480px) {
      .page-title {
        font-size: 1.8rem;
      }

      .card-icon {
        font-size: 1.5rem;
        padding: 0.5rem;
      }

      .card-title {
        font-size: 1.2rem;
      }

      .metric-value {
        font-size: 1rem;
      }

      .weekly-activity {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.25rem;
      }

      .day-activity {
        padding: 0.5rem 0.25rem;
      }

      .day-name {
        font-size: 0.7rem;
      }

      .day-value {
        font-size: 1rem;
      }
    }
  `;
  document.head.appendChild(style);

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
  function updateCurrentTime() {
    const now = new Date();
    const timeString = now.toLocaleTimeString('ru-RU', {
      hour: '2-digit',
      minute: '2-digit'
    });

    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    document.title = `–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è - ${timeString} - Cleopatra`;
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
  setInterval(updateCurrentTime, 60000);
  updateCurrentTime(); // –í—ã–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É

  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  let isUserActive = true;
  let inactivityTimer;

  function resetInactivityTimer() {
    clearTimeout(inactivityTimer);
    isUserActive = true;

    inactivityTimer = setTimeout(() => {
      isUserActive = false;
      console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω');
    }, 300000); // 5 –º–∏–Ω—É—Ç
  }

  // –°–æ–±—ã—Ç–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'].forEach(event => {
    document.addEventListener(event, resetInactivityTimer, true);
  });

  resetInactivityTimer();
</script>

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç -->
<script th:src="@{/js/online-status.js}" onerror="console.log('online-status.js –Ω–µ –Ω–∞–π–¥–µ–Ω')"></script>
</body>
</html>