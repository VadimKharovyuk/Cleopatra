<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .header { background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
    .search-form { background-color: #e3f2fd; padding: 20px; border-radius: 5px; margin-bottom: 20px; }
    .user-card { background-color: #fff; border: 2px solid #ddd; padding: 20px; border-radius: 5px; margin-bottom: 20px; }
    .blocked-user { border-color: #f44336; background-color: #ffebee; }
    .active-user { border-color: #4caf50; background-color: #f1f8e9; }
    .error { color: #f44336; background-color: #ffebee; border: 1px solid #f44336; padding: 15px; border-radius: 5px; margin: 15px 0; }
    .success { color: #4caf50; background-color: #f1f8e9; border: 1px solid #4caf50; padding: 15px; border-radius: 5px; margin: 15px 0; }
    .btn { padding: 10px 20px; margin: 5px; border: none; border-radius: 3px; cursor: pointer; text-decoration: none; display: inline-block; }
    .btn-danger { background-color: #f44336; color: white; }
    .btn-success { background-color: #4caf50; color: white; }
    .btn-primary { background-color: #2196f3; color: white; }
    .btn-secondary { background-color: #757575; color: white; }
    .form-group { margin-bottom: 15px; }
    .form-control { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 3px; box-sizing: border-box; }
    .table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    .table th, .table td { padding: 12px; border: 1px solid #ddd; text-align: left; }
    .table th { background-color: #f5f5f5; font-weight: bold; }
    .status-blocked { color: #f44336; font-weight: bold; }
    .status-active { color: #4caf50; font-weight: bold; }
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
    .modal-content { background-color: white; margin: 5% auto; padding: 20px; border-radius: 5px; width: 80%; max-width: 600px; }
    .navbar { background-color: #333; padding: 10px 0; margin-bottom: 20px; }
    .navbar a { color: white; text-decoration: none; margin: 0 15px; }
    .navbar a:hover { text-decoration: underline; }
  </style>
</head>
<body>
<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<nav class="navbar">
  <a href="/dashboard">üè† –ì–ª–∞–≤–Ω–∞—è</a>
  <a href="/admin/users/search">üîç –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a>
  <a href="/admin/users/blocked">üö´ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</a>
  <a href="/admin">‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</a>
</nav>

<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
<div class="header">
  <h1>üîç –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏</h1>
  <p>–ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email –∏–ª–∏ –∏–º–µ–Ω–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π</p>
</div>

<!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
<div class="search-form">
  <h2>–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
  <form method="post" action="/admin/users/search">
    <div class="form-group">
      <label for="query">Email –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
      <input type="text"
             id="query"
             name="query"
             class="form-control"
             th:value="${query}"
             placeholder="–í–≤–µ–¥–∏—Ç–µ email (–Ω–∞–ø—Ä–∏–º–µ—Ä: user@example.com) –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
             required>
    </div>
    <button type="submit" class="btn btn-primary">üîç –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
    <button type="button" onclick="clearSearch()" class="btn btn-secondary">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
  </form>
</div>

<!-- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö -->
<div th:if="${error}" class="error">


  <strong>‚ùå –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞:</strong> <span th:text="${error}"></span>
  <br><br>
  <strong>–°–æ–≤–µ—Ç—ã –ø–æ –ø–æ–∏—Å–∫—É:</strong>
  <ul>
    <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ email –≤–≤–µ–¥–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ</li>
    <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ —Ñ–∞–º–∏–ª–∏–∏</li>
    <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞—Å–∫–ª–∞–¥–∫—É –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã</li>
  </ul>
</div>


<!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ -->
<div th:if="${user}" class="user-card" th:classappend="${user.isBlocked != null and user.isBlocked} ? 'blocked-user' : 'active-user'">
  <h2>üë§ –ù–∞–π–¥–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>

  <table class="table">
    <tr>
      <th>ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</th>
      <td th:text="${user.id}"></td>
    </tr>
    <tr>
      <th>Email</th>
      <td th:text="${user.email}"></td>
    </tr>
    <tr>
      <th>–ò–º—è</th>
      <td th:text="${user.firstName != null ? user.firstName : '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}"></td>
    </tr>
    <tr>
      <th>–§–∞–º–∏–ª–∏—è</th>
      <td th:text="${user.lastName != null ? user.lastName : '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}"></td>
    </tr>
    <tr>
      <th>–ü–æ–ª–Ω–æ–µ –∏–º—è</th>
      <td>
        <strong th:text="${(user.firstName != null ? user.firstName : '') + ' ' + (user.lastName != null ? user.lastName : '')}"></strong>
      </td>
    </tr>
    <tr>
      <th>–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å</th>
      <td>
        <span th:if="${user.isPrivateProfile != null and user.isPrivateProfile}" style="color: orange;">üîí –î–∞</span>
        <span th:if="${user.isPrivateProfile == null or !user.isPrivateProfile}" style="color: green;">üåê –ù–µ—Ç</span>
      </td>
    </tr>
    <tr>
      <th>–°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞</th>
      <td>
        <span th:if="${user.isBlocked != null and user.isBlocked}" class="status-blocked">üö´ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù</span>
        <span th:if="${user.isBlocked == null or !user.isBlocked}" class="status-active">‚úÖ –ê–ö–¢–ò–í–ï–ù</span>
      </td>
    </tr>
  </table>

  <!-- –î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º -->
  <div style="margin-top: 25px; border-top: 2px solid #ddd; padding-top: 20px;">
    <h3>–î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</h3>

    <!-- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω -->
    <div th:if="${user.isBlocked == null or !user.isBlocked}">
      <p style="color: green; font-weight: bold;">‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</p>

      <button onclick="showBlockModal()" class="btn btn-danger">
        üö´ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      </button>
    </div>

    <!-- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù -->
    <div th:if="${user.isBlocked != null and user.isBlocked}">
      <p style="color: red; font-weight: bold;">üö´ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</p>

      <button onclick="showUnblockModal()" class="btn btn-success">
        ‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      </button>
    </div>

    <!-- –û–±—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <a th:href="@{'/admin/users/' + ${user.id} + '/history'}" class="btn btn-primary">
      üìã –ò—Å—Ç–æ—Ä–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
    </a>

    <button onclick="searchAnother()" class="btn btn-secondary">
      üîç –ù–∞–π—Ç–∏ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    </button>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ -->
<div id="blockModal" class="modal">
  <div class="modal-content">
    <h3 style="color: red;">üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
    <p>–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</p>
    <div th:if="${user}">
      <p><strong>Email:</strong> <span th:text="${user.email}"></span></p>
      <p><strong>–ò–º—è:</strong> <span th:text="${user.firstName + ' ' + user.lastName}"></span></p>
    </div>

    <form th:if="${user}" th:action="@{'/admin/users/' + ${user.id} + '/block'}" method="post">
      <div class="form-group">
        <label for="blockReason">–ü—Ä–∏—á–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:</label>
        <select id="blockReasonSelect" onchange="handleBlockReasonChange()" class="form-control" style="margin-bottom: 10px;">
          <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É --</option>
          <option value="–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ—Å—Ç–≤–∞">–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</option>
          <option value="–°–ø–∞–º –∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞">–°–ø–∞–º –∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞</option>
          <option value="–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è –∏ —Ö–∞—Ä–∞—Å—Å–º–µ–Ω—Ç">–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è –∏ —Ö–∞—Ä–∞—Å—Å–º–µ–Ω—Ç</option>
          <option value="–ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞">–ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</option>
          <option value="–ú–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ –∏–ª–∏ –æ–±–º–∞–Ω">–ú–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ –∏–ª–∏ –æ–±–º–∞–Ω</option>
          <option value="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è</option>
          <option value="–ñ–∞–ª–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π">–ñ–∞–ª–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</option>
          <option value="custom">–î—Ä—É–≥–∞—è –ø—Ä–∏—á–∏–Ω–∞ (—É–∫–∞–∑–∞—Ç—å –≤—Ä—É—á–Ω—É—é)</option>
        </select>

        <textarea id="blockReason"
                  name="reason"
                  class="form-control"
                  rows="4"
                  placeholder="–£–∫–∞–∂–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏..."
                  required></textarea>
      </div>

      <div style="text-align: right; margin-top: 20px;">
        <button type="button" onclick="hideBlockModal()" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
        <button type="submit" class="btn btn-danger" onclick="return confirmBlock()">üö´ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
    </form>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ -->
<div id="unblockModal" class="modal">
  <div class="modal-content">
    <h3 style="color: green;">‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
    <p>–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</p>
    <div th:if="${user}">
      <p><strong>Email:</strong> <span th:text="${user.email}"></span></p>
      <p><strong>–ò–º—è:</strong> <span th:text="${user.firstName + ' ' + user.lastName}"></span></p>
    </div>

    <form th:if="${user}" th:action="@{'/admin/users/' + ${user.id} + '/unblock'}" method="post">
      <div class="form-group">
        <label for="unblockReason">–ü—Ä–∏—á–∏–Ω–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:</label>
        <select id="unblockReasonSelect" onchange="handleUnblockReasonChange()" class="form-control" style="margin-bottom: 10px;">
          <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É --</option>
          <option value="–û—à–∏–±–æ—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞">–û—à–∏–±–æ—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞</option>
          <option value="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø—Ä–∞–≤–∏–ª—Å—è">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø—Ä–∞–≤–∏–ª—Å—è</option>
          <option value="–ñ–∞–ª–æ–±—ã —Å–Ω—è—Ç—ã">–ñ–∞–ª–æ–±—ã —Å–Ω—è—Ç—ã</option>
          <option value="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞</option>
          <option value="–ü–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">–ü–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</option>
          <option value="custom">–î—Ä—É–≥–∞—è –ø—Ä–∏—á–∏–Ω–∞ (—É–∫–∞–∑–∞—Ç—å –≤—Ä—É—á–Ω—É—é)</option>
        </select>

        <textarea id="unblockReason"
                  name="reason"
                  class="form-control"
                  rows="3"
                  placeholder="–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏..."
                  required></textarea>
      </div>

      <div style="text-align: right; margin-top: 20px;">
        <button type="button" onclick="hideUnblockModal()" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
        <button type="submit" class="btn btn-success" onclick="return confirmUnblock()">‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
    </form>
  </div>
</div>

<script>
  // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
  function showBlockModal() {
    document.getElementById('blockModal').style.display = 'block';
    document.getElementById('blockReason').focus();
  }

  function hideBlockModal() {
    document.getElementById('blockModal').style.display = 'none';
    document.getElementById('blockReason').value = '';
    document.getElementById('blockReasonSelect').value = '';
  }

  function showUnblockModal() {
    document.getElementById('unblockModal').style.display = 'block';
    document.getElementById('unblockReason').focus();
  }

  function hideUnblockModal() {
    document.getElementById('unblockModal').style.display = 'none';
    document.getElementById('unblockReason').value = '';
    document.getElementById('unblockReasonSelect').value = '';
  }

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–∏—á–∏–Ω
  function handleBlockReasonChange() {
    const select = document.getElementById('blockReasonSelect');
    const textarea = document.getElementById('blockReason');

    if (select.value === 'custom') {
      textarea.value = '';
      textarea.placeholder = '–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏...';
    } else if (select.value !== '') {
      textarea.value = select.value;
    }
    textarea.focus();
  }

  function handleUnblockReasonChange() {
    const select = document.getElementById('unblockReasonSelect');
    const textarea = document.getElementById('unblockReason');

    if (select.value === 'custom') {
      textarea.value = '';
      textarea.placeholder = '–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏...';
    } else if (select.value !== '') {
      textarea.value = select.value;
    }
    textarea.focus();
  }

  // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π
  function confirmBlock() {
    const reason = document.getElementById('blockReason').value.trim();
    if (reason.length < 10) {
      alert('–ü—Ä–∏—á–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤!');
      return false;
    }
    return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?\n\n–ü—Ä–∏—á–∏–Ω–∞: ' + reason);
  }

  function confirmUnblock() {
    const reason = document.getElementById('unblockReason').value.trim();
    if (reason.length < 10) {
      alert('–ü—Ä–∏—á–∏–Ω–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤!');
      return false;
    }
    return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?\n\n–ü—Ä–∏—á–∏–Ω–∞: ' + reason);
  }

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  function clearSearch() {
    document.getElementById('query').value = '';
    document.getElementById('query').focus();
  }

  function searchAnother() {
    document.getElementById('query').value = '';
    document.getElementById('query').focus();
    window.scrollTo(0, 0);
  }

  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∏—Ö
  window.onclick = function(event) {
    const blockModal = document.getElementById('blockModal');
    const unblockModal = document.getElementById('unblockModal');

    if (event.target === blockModal) {
      hideBlockModal();
    }
    if (event.target === unblockModal) {
      hideUnblockModal();
    }
  }

  // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞
  window.onload = function() {
    document.getElementById('query').focus();
  }
</script>
</body>
</html>