<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title th:text="${group.name} + ' - Cleopatra'">–ì—Ä—É–ø–ø–∞ - Cleopatra</title>-->

<!--    &lt;!&ndash; Font Awesome &ndash;&gt;-->
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">-->

<!--    &lt;!&ndash; Google Fonts &ndash;&gt;-->
<!--    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"-->
<!--          rel="stylesheet">-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash; Include Sidebar &ndash;&gt;-->
<!--<th:block th:replace="~{fragments/sidebar :: complete-sidebar('groups')}"></th:block>-->

<!--&lt;!&ndash; Main Content &ndash;&gt;-->
<!--<main class="main-content">-->
<!--    <div class="content-wrapper">-->
<!--        &lt;!&ndash; Flash Messages Container &ndash;&gt;-->
<!--        <div id="alertContainer"></div>-->

<!--        &lt;!&ndash; Group Header Section &ndash;&gt;-->
<!--        <div class="group-header-container">-->
<!--            &lt;!&ndash; Background Image &ndash;&gt;-->
<!--            <div class="group-background">-->
<!--                <div th:if="${group.backgroundImageUrl}"-->
<!--                     class="background-image"-->
<!--                     th:style="'background-image: url(' + ${group.backgroundImageUrl} + ')'">-->
<!--                    <div class="background-overlay"></div>-->
<!--                </div>-->
<!--                <div th:unless="${group.backgroundImageUrl}"-->
<!--                     class="background-gradient">-->
<!--                    <div class="background-overlay"></div>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Group Main Info &ndash;&gt;-->
<!--            <div class="group-main-info">-->
<!--                <div class="group-avatar-container">-->
<!--                    <div class="group-avatar">-->
<!--                        <img th:if="${group.imageUrl}"-->
<!--                             th:src="${group.imageUrl}"-->
<!--                             th:alt="${group.name}">-->
<!--                        <div th:unless="${group.imageUrl}" class="no-avatar">-->
<!--                            <i class="fas fa-users"></i>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; Group Type Badge &ndash;&gt;-->
<!--                    <div class="group-type-badge" th:text="${group.groupType.displayName}">-->
<!--                        üåç –û—Ç–∫—Ä—ã—Ç–∞—è-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="group-info">-->
<!--                    <div class="group-title-section">-->
<!--                        <h1 class="group-title" th:text="${group.name}">–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</h1>-->

<!--                        &lt;!&ndash; Membership Status Badges &ndash;&gt;-->
<!--                        <div class="status-badges">-->
<!--                            <span th:if="${group.isMember}" class="status-badge member">-->
<!--                                <i class="fas fa-check"></i> –£—á–∞—Å—Ç–Ω–∏–∫-->
<!--                            </span>-->
<!--                            <span th:if="${group.currentUserMembershipStatus?.name() == 'PENDING'}"-->
<!--                                  class="status-badge pending">-->
<!--                                <i class="fas fa-clock"></i> –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏-->
<!--                            </span>-->
<!--                            <span th:if="${group.currentUserRole?.name() == 'OWNER'}"-->
<!--                                  class="status-badge owner">-->
<!--                                <i class="fas fa-crown"></i> –í–ª–∞–¥–µ–ª–µ—Ü-->
<!--                            </span>-->
<!--                            <span th:if="${group.currentUserRole?.name() == 'ADMIN'}"-->
<!--                                  class="status-badge admin">-->
<!--                                <i class="fas fa-shield-alt"></i> –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä-->
<!--                            </span>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <p class="group-description" th:text="${group.description}">–û–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</p>-->

<!--                    &lt;!&ndash; Group Stats &ndash;&gt;-->
<!--                    <div class="group-stats">-->
<!--                        <div class="stat-item">-->
<!--                            <i class="fas fa-users"></i>-->
<!--                            <span class="stat-value" th:text="${group.memberCount}">0</span>-->
<!--                            <span class="stat-label">—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>-->
<!--                        </div>-->
<!--                        <div class="stat-item">-->
<!--                            <i class="fas fa-calendar"></i>-->
<!--                            <span class="stat-value" th:text="${#temporals.format(group.createdAt, 'dd.MM.yyyy')}">01.01.2024</span>-->
<!--                            <span class="stat-label">—Å–æ–∑–¥–∞–Ω–∞</span>-->
<!--                        </div>-->
<!--                        <div class="stat-item">-->
<!--                            <i class="fas fa-globe"></i>-->
<!--                            <span class="stat-value" th:text="${group.groupType.displayName}">–û—Ç–∫—Ä—ã—Ç–∞—è</span>-->
<!--                            <span class="stat-label">—Ç–∏–ø –≥—Ä—É–ø–ø—ã</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Action Buttons &ndash;&gt;-->
<!--            <div class="group-actions">-->
<!--                <button th:if="${group.canJoin}"-->
<!--                        class="btn btn-primary action-btn join-btn"-->
<!--                        th:attr="data-group-id=${group.id}">-->
<!--                    <i class="fas fa-plus"></i>-->
<!--                    <span>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</span>-->
<!--                </button>-->

<!--                <button th:if="${group.canLeave}"-->
<!--                        class="btn btn-danger action-btn leave-btn"-->
<!--                        th:attr="data-group-id=${group.id}">-->
<!--                    <i class="fas fa-sign-out-alt"></i>-->
<!--                    <span>–ü–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É</span>-->
<!--                </button>-->

<!--                <a th:if="${group.canManage}"-->
<!--                   th:href="@{/groups/{id}/settings(id=${group.id})}"-->
<!--                   class="btn btn-secondary action-btn">-->
<!--                    <i class="fas fa-cog"></i>-->
<!--                    <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>-->
<!--                </a>-->

<!--                <form th:if="${group.canManage}"-->
<!--                      th:action="@{/groups/delete/{id}(id=${group.id})}"-->
<!--                      method="post"-->
<!--                      class="delete-form"-->
<!--                      onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É?')">-->
<!--                    <button type="submit" class="btn btn-danger action-btn">-->
<!--                        <i class="fas fa-trash"></i>-->
<!--                        <span>–£–¥–∞–ª–∏—Ç—å</span>-->
<!--                    </button>-->
<!--                </form>-->

<!--                <a href="/groups" class="btn btn-outline action-btn">-->
<!--                    <i class="fas fa-arrow-left"></i>-->
<!--                    <span>–ù–∞–∑–∞–¥ –∫ –≥—Ä—É–ø–ø–∞–º</span>-->
<!--                </a>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Content Sections &ndash;&gt;-->
<!--        <div class="content-sections" th:attr="data-group-id=${group.id}">-->
<!--            &lt;!&ndash; Post Creation Section &ndash;&gt;-->
<!--            <div th:if="${group.isMember != null and group.isMember}" class="post-creation-section">-->
<!--                <div class="section-card">-->
<!--                    <div class="section-header">-->
<!--                        <h3 class="section-title">-->
<!--                            <i class="fas fa-edit"></i>-->
<!--                            –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç-->
<!--                        </h3>-->
<!--                    </div>-->

<!--                    <div class="post-creation-form">-->
<!--                        <form id="createPostForm" enctype="multipart/form-data">-->
<!--                            <div class="post-textarea-wrapper">-->
<!--                                <textarea name="text" class="post-textarea" id="postText"-->
<!--                                          placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏ —Å –≥—Ä—É–ø–ø–æ–π..."-->
<!--                                          rows="3"></textarea>-->
<!--                            </div>-->

<!--                            <div class="image-upload-section" style="display: none;">-->
<!--                                <div class="image-preview-container">-->
<!--                                    <img id="imagePreview"-->
<!--                                         style="max-width: 100%; max-height: 200px; border-radius: 8px;" alt="Preview">-->
<!--                                    <button type="button" class="remove-image-btn" onclick="removeImagePreview()">-->
<!--                                        <i class="fas fa-times"></i>-->
<!--                                    </button>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="post-actions">-->
<!--                                <div class="post-attachments">-->
<!--                                    <label class="attachment-btn" title="–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ">-->
<!--                                        <i class="fas fa-camera"></i>-->
<!--                                        <input type="file" name="image" id="imageInput" accept="image/*"-->
<!--                                               style="display: none;">-->
<!--                                    </label>-->
<!--                                    <button type="button" class="attachment-btn" title="–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ"-->
<!--                                            onclick="showComingSoon('–≤–∏–¥–µ–æ')">-->
<!--                                        <i class="fas fa-video"></i>-->
<!--                                    </button>-->
<!--                                    <button type="button" class="attachment-btn" title="–î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª"-->
<!--                                            onclick="showComingSoon('—Ñ–∞–π–ª—ã')">-->
<!--                                        <i class="fas fa-paperclip"></i>-->
<!--                                    </button>-->
<!--                                </div>-->

<!--                                <button type="submit" class="btn btn-primary post-submit-btn">-->
<!--                                    <i class="fas fa-paper-plane"></i>-->
<!--                                    <span>–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</span>-->
<!--                                </button>-->
<!--                            </div>-->
<!--                        </form>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Owner Section &ndash;&gt;-->
<!--            <div class="owner-section">-->
<!--                <div class="section-card">-->
<!--                    <div class="section-header">-->
<!--                        <h3 class="section-title">-->
<!--                            <i class="fas fa-crown"></i>-->
<!--                            –í–ª–∞–¥–µ–ª–µ—Ü –≥—Ä—É–ø–ø—ã-->
<!--                        </h3>-->
<!--                    </div>-->

<!--                    <div class="owner-card">-->
<!--                        <div class="owner-avatar">-->
<!--                            <img th:if="${group.ownerImageUrl}"-->
<!--                                 th:src="${group.ownerImageUrl}"-->
<!--                                 th:alt="${group.ownerFirstName}">-->
<!--                            <div th:unless="${group.ownerImageUrl}" class="no-owner-avatar">-->
<!--                                <i class="fas fa-user"></i>-->
<!--                            </div>-->
<!--                        </div>-->

<!--                        <div class="owner-info">-->
<!--                            <h4 class="owner-name" th:text="${group.ownerFirstName} + ' ' + ${group.ownerLastName}">-->
<!--                                –ò–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞-->
<!--                            </h4>-->
<!--                            <p class="owner-role">–°–æ–∑–¥–∞—Ç–µ–ª—å –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã</p>-->
<!--                        </div>-->

<!--                        <a th:href="@{/profile/{id}(id=${group.ownerId})}"-->
<!--                           class="btn btn-outline btn-sm">-->
<!--                            <i class="fas fa-user"></i>-->
<!--                            –ü—Ä–æ—Ñ–∏–ª—å-->
<!--                        </a>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Group Posts Section &ndash;&gt;-->
<!--            <div class="posts-section">-->
<!--                <div class="section-card">-->
<!--                    <div class="section-header">-->
<!--                        <h3 class="section-title">-->
<!--                            <i class="fas fa-newspaper"></i>-->
<!--                            –ü–æ—Å—Ç—ã –≥—Ä—É–ø–ø—ã-->
<!--                        </h3>-->

<!--                    </div>-->

<!--                    <div class="posts-content">-->
<!--                        <div id="postsContainer">-->
<!--                            &lt;!&ndash; Existing posts from server &ndash;&gt;-->
<!--                            <th:block-->
<!--                                    th:if="${posts != null and posts.posts != null and not #lists.isEmpty(posts.posts)}">-->
<!--                                <div th:each="post : ${posts.posts}" class="post-card"-->
<!--                                     th:attr="data-post-id=${post.id}">-->
<!--                                    <div class="post-header">-->
<!--                                        <div class="post-author">-->
<!--                                            <img th:src="${post.authorImageUrl != null ? post.authorImageUrl : '/images/default-avatar.png'}"-->
<!--                                                 th:alt="${post.authorName}" class="author-avatar">-->
<!--                                            <div class="author-info">-->
<!--                                                <a th:href="@{/profile/{id}(id=${post.authorId})}" class="author-link">-->
<!--                                                    <h6 class="author-name" th:text="${post.authorName}">–ê–≤—Ç–æ—Ä</h6>-->
<!--                                                    <small class="post-time"-->
<!--                                                           th:text="${#temporals.format(post.createdAt, 'dd.MM.yyyy HH:mm')}">–≤—Ä–µ–º—è</small>-->
<!--                                                </a>-->
<!--                                            </div>-->

<!--                                        </div>-->

<!--                                        &lt;!&ndash; Delete button for post author or group owner/admin &ndash;&gt;-->
<!--                                        <div th:if="${post.authorId != null and currentUserId != null and (post.authorId == currentUserId or group.currentUserRole?.name() == 'OWNER' or group.currentUserRole?.name() == 'ADMIN')}"-->
<!--                                             class="post-actions-menu">-->
<!--                                            <button class="btn-menu" onclick="togglePostMenu(this)">-->
<!--                                                <i class="fas fa-ellipsis-h"></i>-->
<!--                                            </button>-->
<!--                                            <div class="post-menu">-->
<!--                                                <button class="menu-item delete-post-btn"-->
<!--                                                        th:attr="data-post-id=${post.id}">-->
<!--                                                    <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å-->
<!--                                                </button>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                    <div th:if="${post.text != null and not #strings.isEmpty(post.text)}"-->
<!--                                         class="post-text" th:text="${post.text}">–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞-->
<!--                                    </div>-->

<!--                                    <div th:if="${post.hasImage != null and post.hasImage}" class="post-image">-->
<!--                                        <img th:src="${post.imageUrl}" alt="Post image">-->
<!--                                    </div>-->

<!--                                    <div class="post-stats">-->
<!--                                        <span class="stat-item">-->
<!--                                            <i class="fas fa-heart"></i>-->
<!--                                            <span th:text="${post.likeCount != null ? post.likeCount : 0}">0</span>-->
<!--                                        </span>-->
<!--                                        <span class="stat-item">-->
<!--                                            <i class="fas fa-comment"></i>-->
<!--                                            <span th:text="${post.commentCount != null ? post.commentCount : 0}">0</span>-->
<!--                                        </span>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </th:block>-->

<!--                            &lt;!&ndash; Empty state &ndash;&gt;-->
<!--                            <div th:if="${posts == null or posts.posts == null or #lists.isEmpty(posts.posts)}"-->
<!--                                 class="posts-placeholder" id="emptyState">-->
<!--                                <div class="placeholder-icon">-->
<!--                                    <i class="fas fa-newspaper"></i>-->
<!--                                </div>-->
<!--                                <h4 class="placeholder-title">–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤</h4>-->
<!--                                <p class="placeholder-text">-->
<!--                                    –°—Ç–∞–Ω—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –ø–æ–¥–µ–ª–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ!-->
<!--                                </p>-->
<!--                                <button th:if="${group.isMember != null and group.isMember}"-->
<!--                                        class="btn btn-primary"-->
<!--                                        onclick="focusPostCreation()">-->
<!--                                    <i class="fas fa-plus"></i>-->
<!--                                    –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç-->
<!--                                </button>-->
<!--                            </div>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; Load More Button &ndash;&gt;-->
<!--                        <div th:if="${posts != null and posts.hasNext != null and posts.hasNext}"-->
<!--                             class="load-more-section">-->
<!--                            <button id="loadMoreBtn" class="btn btn-outline load-more-btn"-->
<!--                                    th:attr="data-current-page=${posts != null ? posts.currentPage : 0}">-->
<!--                                <i class="fas fa-plus"></i>-->
<!--                                –ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</main>-->

<!--&lt;!&ndash; Styles &ndash;&gt;-->
<!--<style>-->
<!--    /* ==================== LIGHT THEME VARIABLES ==================== */-->
<!--    :root {-->
<!--        /* Light Background Colors */-->
<!--        &#45;&#45;bg-primary: #ffffff;-->
<!--        &#45;&#45;bg-secondary: #f8fafc;-->
<!--        &#45;&#45;bg-accent: #f1f5f9;-->
<!--        &#45;&#45;bg-hover: #e2e8f0;-->
<!--        &#45;&#45;surface-elevated: #ffffff;-->

<!--        /* Light Text Colors */-->
<!--        &#45;&#45;text-primary: #0f172a;-->
<!--        &#45;&#45;text-secondary: #475569;-->
<!--        &#45;&#45;text-muted: #64748b;-->
<!--        &#45;&#45;text-light: #94a3b8;-->
<!--        &#45;&#45;text-white: #ffffff;-->

<!--        /* Light Premium Accent Colors */-->
<!--        &#45;&#45;accent-primary: #3b82f6;-->
<!--        &#45;&#45;accent-secondary: #8b5cf6;-->
<!--        &#45;&#45;accent-success: #10b981;-->
<!--        &#45;&#45;accent-warning: #f59e0b;-->
<!--        &#45;&#45;accent-error: #ef4444;-->

<!--        /* Light Borders & Shadows */-->
<!--        &#45;&#45;border-primary: #e2e8f0;-->
<!--        &#45;&#45;border-secondary: #f1f5f9;-->
<!--        &#45;&#45;border-accent: #cbd5e1;-->
<!--        &#45;&#45;shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);-->
<!--        &#45;&#45;shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);-->
<!--        &#45;&#45;shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);-->
<!--        &#45;&#45;shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);-->

<!--        /* Light Gradients */-->
<!--        &#45;&#45;gradient-primary: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);-->
<!--        &#45;&#45;gradient-light: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);-->
<!--        &#45;&#45;gradient-hero: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #06b6d4 100%);-->

<!--        /* Spacing & Sizing */-->
<!--        &#45;&#45;radius-sm: 6px;-->
<!--        &#45;&#45;radius-md: 8px;-->
<!--        &#45;&#45;radius-lg: 12px;-->
<!--        &#45;&#45;radius-xl: 16px;-->
<!--    }-->

<!--    /* ==================== BASIC LAYOUT ==================== */-->
<!--    * {-->
<!--        margin: 0;-->
<!--        padding: 0;-->
<!--        box-sizing: border-box;-->
<!--    }-->

<!--    body {-->
<!--        background: linear-gradient(135deg, var(&#45;&#45;bg-primary) 0%, var(&#45;&#45;bg-secondary) 100%);-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;-->
<!--        font-weight: 400;-->
<!--        line-height: 1.6;-->
<!--        min-height: 100vh;-->
<!--    }-->

<!--    .main-content {-->
<!--        margin-left: 280px;-->
<!--        min-height: 100vh;-->
<!--        padding: 2rem;-->
<!--        transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);-->
<!--    }-->

<!--    .content-wrapper {-->
<!--        max-width: 1200px;-->
<!--        margin: 0 auto;-->
<!--    }-->

<!--    /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –∞–≤—Ç–æ—Ä–∞ */-->
<!--    .author-link {-->
<!--        text-decoration: none;-->
<!--        color: inherit;-->
<!--        display: block;-->
<!--        transition: all 0.2s ease;-->
<!--    }-->

<!--    .author-link:hover {-->
<!--        text-decoration: none;-->
<!--        color: inherit;-->
<!--        transform: translateY(-1px);-->
<!--    }-->

<!--    .author-link:hover .author-name {-->
<!--        color: #007bff;-->
<!--        text-decoration: underline;-->
<!--    }-->

<!--    .author-link:hover .post-time {-->
<!--        color: #6c757d;-->
<!--    }-->

<!--    /* –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç - —Ç–æ–ª—å–∫–æ –∏–º—è –∞–≤—Ç–æ—Ä–∞ –∫–∞–∫ —Å—Å—ã–ª–∫–∞ */-->
<!--    .author-name-link {-->
<!--        text-decoration: none;-->
<!--        color: #333;-->
<!--        transition: color 0.2s ease;-->
<!--    }-->

<!--    .author-name-link:hover {-->
<!--        color: #007bff;-->
<!--        text-decoration: underline;-->
<!--    }-->

<!--    /* –ö—É—Ä—Å–æ—Ä pointer –¥–ª—è –≤—Å–µ–π –æ–±–ª–∞—Å—Ç–∏ */-->
<!--    .author-info .author-link {-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */-->
<!--    @media (max-width: 768px) {-->
<!--        .author-link:hover {-->
<!--            transform: none; /* –£–±–∏—Ä–∞–µ–º hover —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */-->
<!--        }-->
<!--    }-->

<!--    /* ==================== ALERTS ==================== */-->
<!--    #alertContainer {-->
<!--        position: fixed;-->
<!--        top: 20px;-->
<!--        right: 20px;-->
<!--        z-index: 9999;-->
<!--        max-width: 400px;-->
<!--    }-->

<!--    .alert {-->
<!--        background: var(&#45;&#45;surface-elevated);-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--        border-radius: var(&#45;&#45;radius-md);-->
<!--        padding: 1rem 1.5rem;-->
<!--        margin-bottom: 1rem;-->
<!--        box-shadow: var(&#45;&#45;shadow-lg);-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 1rem;-->
<!--        animation: slideInRight 0.3s ease-out;-->
<!--    }-->

<!--    .alert-success {-->
<!--        border-left: 4px solid var(&#45;&#45;accent-success);-->
<!--    }-->

<!--    .alert-danger {-->
<!--        border-left: 4px solid var(&#45;&#45;accent-error);-->
<!--    }-->

<!--    .alert-info {-->
<!--        border-left: 4px solid var(&#45;&#45;accent-primary);-->
<!--    }-->

<!--    .alert-content {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 0.75rem;-->
<!--        flex: 1;-->
<!--    }-->

<!--    .alert-close {-->
<!--        background: none;-->
<!--        border: none;-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        cursor: pointer;-->
<!--        padding: 0.25rem;-->
<!--        border-radius: var(&#45;&#45;radius-sm);-->
<!--    }-->

<!--    .alert-close:hover {-->
<!--        background: var(&#45;&#45;bg-hover);-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--    }-->

<!--    /* ==================== GROUP HEADER ==================== */-->
<!--    .group-header-container {-->
<!--        position: relative;-->
<!--        margin-bottom: 2rem;-->
<!--        border-radius: var(&#45;&#45;radius-xl);-->
<!--        overflow: hidden;-->
<!--        background: var(&#45;&#45;surface-elevated);-->
<!--        box-shadow: var(&#45;&#45;shadow-lg);-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--    }-->

<!--    .group-background {-->
<!--        position: relative;-->
<!--        height: 300px;-->
<!--        overflow: hidden;-->
<!--    }-->

<!--    .background-image {-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        background-size: cover;-->
<!--        background-position: center;-->
<!--        background-repeat: no-repeat;-->
<!--    }-->

<!--    .background-gradient {-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        background: var(&#45;&#45;gradient-hero);-->
<!--    }-->

<!--    .background-overlay {-->
<!--        position: absolute;-->
<!--        top: 0;-->
<!--        left: 0;-->
<!--        right: 0;-->
<!--        bottom: 0;-->
<!--        background: linear-gradient(180deg, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.3) 100%);-->
<!--    }-->

<!--    .group-main-info {-->
<!--        position: relative;-->
<!--        padding: 2rem;-->
<!--        margin-top: -80px;-->
<!--        z-index: 10;-->
<!--        display: flex;-->
<!--        gap: 2rem;-->
<!--        align-items: flex-start;-->
<!--    }-->

<!--    .group-avatar-container {-->
<!--        position: relative;-->
<!--        flex-shrink: 0;-->
<!--    }-->

<!--    .group-avatar {-->
<!--        width: 160px;-->
<!--        height: 160px;-->
<!--        border-radius: var(&#45;&#45;radius-lg);-->
<!--        overflow: hidden;-->
<!--        background: var(&#45;&#45;surface-elevated);-->
<!--        border: 4px solid var(&#45;&#45;surface-elevated);-->
<!--        box-shadow: var(&#45;&#45;shadow-lg);-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--    }-->

<!--    .group-avatar img {-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        object-fit: cover;-->
<!--    }-->

<!--    .no-avatar {-->
<!--        font-size: 4rem;-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        background: var(&#45;&#45;gradient-light);-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--    }-->

<!--    .group-type-badge {-->
<!--        position: absolute;-->
<!--        bottom: -10px;-->
<!--        left: 50%;-->
<!--        transform: translateX(-50%);-->
<!--        background: var(&#45;&#45;gradient-primary);-->
<!--        color: var(&#45;&#45;text-white);-->
<!--        padding: 0.5rem 1rem;-->
<!--        border-radius: var(&#45;&#45;radius-lg);-->
<!--        font-size: 0.875rem;-->
<!--        font-weight: 600;-->
<!--        box-shadow: var(&#45;&#45;shadow-md);-->
<!--        white-space: nowrap;-->
<!--    }-->

<!--    .group-info {-->
<!--        flex: 1;-->
<!--        padding-top: 1rem;-->
<!--    }-->

<!--    .group-title-section {-->
<!--        display: flex;-->
<!--        align-items: flex-start;-->
<!--        justify-content: space-between;-->
<!--        gap: 1rem;-->
<!--        margin-bottom: 1rem;-->
<!--    }-->

<!--    .group-title {-->
<!--        font-family: 'Playfair Display', serif;-->
<!--        font-size: 2.5rem;-->
<!--        font-weight: 600;-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        line-height: 1.2;-->
<!--        margin: 0;-->
<!--    }-->

<!--    .status-badges {-->
<!--        display: flex;-->
<!--        gap: 0.5rem;-->
<!--        flex-wrap: wrap;-->
<!--    }-->

<!--    .status-badge {-->
<!--        display: inline-flex;-->
<!--        align-items: center;-->
<!--        gap: 0.5rem;-->
<!--        padding: 0.5rem 1rem;-->
<!--        border-radius: var(&#45;&#45;radius-md);-->
<!--        font-size: 0.875rem;-->
<!--        font-weight: 500;-->
<!--        color: var(&#45;&#45;text-white);-->
<!--    }-->

<!--    .status-badge.member {-->
<!--        background: var(&#45;&#45;accent-success);-->
<!--    }-->

<!--    .status-badge.pending {-->
<!--        background: var(&#45;&#45;accent-warning);-->
<!--    }-->

<!--    .status-badge.owner {-->
<!--        background: var(&#45;&#45;accent-secondary);-->
<!--    }-->

<!--    .status-badge.admin {-->
<!--        background: var(&#45;&#45;accent-primary);-->
<!--    }-->

<!--    .group-description {-->
<!--        font-size: 1.125rem;-->
<!--        color: var(&#45;&#45;text-secondary);-->
<!--        margin-bottom: 1.5rem;-->
<!--        line-height: 1.6;-->
<!--    }-->

<!--    .group-stats {-->
<!--        display: flex;-->
<!--        gap: 2rem;-->
<!--        flex-wrap: wrap;-->
<!--    }-->

<!--    .stat-item {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 0.5rem;-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--    }-->

<!--    .stat-item i {-->
<!--        font-size: 1.125rem;-->
<!--        color: var(&#45;&#45;accent-primary);-->
<!--    }-->

<!--    .stat-value {-->
<!--        font-weight: 600;-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--    }-->

<!--    .stat-label {-->
<!--        font-size: 0.875rem;-->
<!--    }-->

<!--    /* ==================== ACTION BUTTONS ==================== */-->
<!--    .group-actions {-->
<!--        padding: 1.5rem 2rem;-->
<!--        background: var(&#45;&#45;bg-accent);-->
<!--        border-top: 1px solid var(&#45;&#45;border-primary);-->
<!--        display: flex;-->
<!--        gap: 1rem;-->
<!--        flex-wrap: wrap;-->
<!--        align-items: center;-->
<!--    }-->

<!--    .btn {-->
<!--        display: inline-flex;-->
<!--        align-items: center;-->
<!--        gap: 0.5rem;-->
<!--        padding: 0.75rem 1.5rem;-->
<!--        border-radius: var(&#45;&#45;radius-md);-->
<!--        font-weight: 500;-->
<!--        font-size: 0.875rem;-->
<!--        text-decoration: none;-->
<!--        border: none;-->
<!--        cursor: pointer;-->
<!--        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);-->
<!--    }-->

<!--    .btn:disabled {-->
<!--        opacity: 0.5;-->
<!--        cursor: not-allowed;-->
<!--        transform: none !important;-->
<!--    }-->

<!--    .btn-primary {-->
<!--        background: var(&#45;&#45;gradient-primary);-->
<!--        color: var(&#45;&#45;text-white);-->
<!--        box-shadow: var(&#45;&#45;shadow-md);-->
<!--    }-->

<!--    .btn-primary:hover:not(:disabled) {-->
<!--        transform: translateY(-2px);-->
<!--        box-shadow: var(&#45;&#45;shadow-lg);-->
<!--        color: var(&#45;&#45;text-white);-->
<!--        text-decoration: none;-->
<!--    }-->

<!--    .btn-secondary {-->
<!--        background: var(&#45;&#45;bg-secondary);-->
<!--        color: var(&#45;&#45;text-secondary);-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--    }-->

<!--    .btn-secondary:hover:not(:disabled) {-->
<!--        background: var(&#45;&#45;bg-hover);-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        text-decoration: none;-->
<!--        transform: translateY(-1px);-->
<!--    }-->

<!--    .btn-danger {-->
<!--        background: var(&#45;&#45;accent-error);-->
<!--        color: var(&#45;&#45;text-white);-->
<!--        box-shadow: var(&#45;&#45;shadow-md);-->
<!--    }-->

<!--    .btn-danger:hover:not(:disabled) {-->
<!--        background: #dc2626;-->
<!--        transform: translateY(-2px);-->
<!--        box-shadow: var(&#45;&#45;shadow-lg);-->
<!--        color: var(&#45;&#45;text-white);-->
<!--        text-decoration: none;-->
<!--    }-->

<!--    .btn-outline {-->
<!--        background: transparent;-->
<!--        color: var(&#45;&#45;text-secondary);-->
<!--        border: 1px solid var(&#45;&#45;border-accent);-->
<!--    }-->

<!--    .btn-outline:hover:not(:disabled) {-->
<!--        background: var(&#45;&#45;bg-hover);-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        text-decoration: none;-->
<!--    }-->

<!--    .btn-sm {-->
<!--        padding: 0.5rem 1rem;-->
<!--        font-size: 0.75rem;-->
<!--    }-->

<!--    .delete-form {-->
<!--        display: inline-block;-->
<!--    }-->

<!--    /* ==================== CONTENT SECTIONS ==================== */-->
<!--    .content-sections {-->
<!--        display: grid;-->
<!--        gap: 2rem;-->
<!--    }-->

<!--    .section-card {-->
<!--        background: var(&#45;&#45;surface-elevated);-->
<!--        border-radius: var(&#45;&#45;radius-lg);-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--        box-shadow: var(&#45;&#45;shadow-sm);-->
<!--        overflow: hidden;-->
<!--    }-->

<!--    .section-header {-->
<!--        display: flex;-->
<!--        justify-content: space-between;-->
<!--        align-items: center;-->
<!--        padding: 1.5rem 2rem;-->
<!--        border-bottom: 1px solid var(&#45;&#45;border-primary);-->
<!--        background: var(&#45;&#45;bg-secondary);-->
<!--    }-->

<!--    .section-title {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 0.75rem;-->
<!--        font-size: 1.25rem;-->
<!--        font-weight: 600;-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        margin: 0;-->
<!--    }-->

<!--    .section-title i {-->
<!--        color: var(&#45;&#45;accent-primary);-->
<!--    }-->

<!--    .member-count {-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        font-weight: 400;-->
<!--    }-->

<!--    /* ==================== POST CREATION ==================== */-->
<!--    .post-creation-section {-->
<!--        order: 1;-->
<!--    }-->

<!--    .post-creation-form {-->
<!--        padding: 2rem;-->
<!--    }-->

<!--    .post-textarea-wrapper {-->
<!--        margin-bottom: 1rem;-->
<!--    }-->

<!--    .post-textarea {-->
<!--        width: 100%;-->
<!--        min-height: 120px;-->
<!--        padding: 1rem;-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--        border-radius: var(&#45;&#45;radius-md);-->
<!--        background: var(&#45;&#45;bg-secondary);-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        font-family: inherit;-->
<!--        font-size: 1rem;-->
<!--        line-height: 1.5;-->
<!--        resize: vertical;-->
<!--        transition: all 0.2s;-->
<!--    }-->

<!--    .post-textarea:focus {-->
<!--        outline: none;-->
<!--        border-color: var(&#45;&#45;accent-primary);-->
<!--        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);-->
<!--    }-->

<!--    .post-textarea::placeholder {-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--    }-->

<!--    .image-upload-section {-->
<!--        margin-bottom: 1rem;-->
<!--    }-->

<!--    .image-preview-container {-->
<!--        position: relative;-->
<!--        display: inline-block;-->
<!--    }-->

<!--    .remove-image-btn {-->
<!--        position: absolute;-->
<!--        top: 10px;-->
<!--        right: 10px;-->
<!--        background: rgba(0, 0, 0, 0.7);-->
<!--        color: white;-->
<!--        border: none;-->
<!--        border-radius: 50%;-->
<!--        width: 30px;-->
<!--        height: 30px;-->
<!--        cursor: pointer;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        transition: all 0.2s;-->
<!--    }-->

<!--    .remove-image-btn:hover {-->
<!--        background: rgba(0, 0, 0, 0.9);-->
<!--        transform: scale(1.1);-->
<!--    }-->

<!--    .post-actions {-->
<!--        display: flex;-->
<!--        justify-content: space-between;-->
<!--        align-items: center;-->
<!--    }-->

<!--    .post-attachments {-->
<!--        display: flex;-->
<!--        gap: 0.5rem;-->
<!--    }-->

<!--    .attachment-btn {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: var(&#45;&#45;radius-md);-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--        background: var(&#45;&#45;bg-secondary);-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        cursor: pointer;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        transition: all 0.2s;-->
<!--    }-->

<!--    .attachment-btn:hover {-->
<!--        background: var(&#45;&#45;bg-hover);-->
<!--        color: var(&#45;&#45;accent-primary);-->
<!--        transform: translateY(-1px);-->
<!--    }-->

<!--    .post-submit-btn {-->
<!--        padding: 0.75rem 2rem;-->
<!--    }-->

<!--    /* ==================== OWNER SECTION ==================== */-->
<!--    .owner-section {-->
<!--        order: 2;-->
<!--    }-->

<!--    .owner-card {-->
<!--        padding: 2rem;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 1.5rem;-->
<!--    }-->

<!--    .owner-avatar {-->
<!--        width: 80px;-->
<!--        height: 80px;-->
<!--        border-radius: 50%;-->
<!--        overflow: hidden;-->
<!--        flex-shrink: 0;-->
<!--        background: var(&#45;&#45;gradient-light);-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--    }-->

<!--    .owner-avatar img {-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        object-fit: cover;-->
<!--    }-->

<!--    .no-owner-avatar {-->
<!--        font-size: 2rem;-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--    }-->

<!--    .owner-info {-->
<!--        flex: 1;-->
<!--    }-->

<!--    .owner-name {-->
<!--        font-size: 1.25rem;-->
<!--        font-weight: 600;-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        margin-bottom: 0.25rem;-->
<!--    }-->

<!--    .owner-role {-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        font-size: 0.875rem;-->
<!--    }-->

<!--    /* ==================== MEMBERS SECTION ==================== */-->
<!--    .members-section {-->
<!--        order: 3;-->
<!--    }-->

<!--    .members-preview {-->
<!--        padding: 2rem;-->
<!--    }-->

<!--    .members-placeholder {-->
<!--        text-align: center;-->
<!--        padding: 3rem 2rem;-->
<!--    }-->

<!--    .placeholder-icon {-->
<!--        font-size: 3rem;-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        margin-bottom: 1rem;-->
<!--        opacity: 0.6;-->
<!--    }-->

<!--    .placeholder-text {-->
<!--        color: var(&#45;&#45;text-secondary);-->
<!--        margin-bottom: 1rem;-->
<!--    }-->

<!--    .placeholder-note {-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        font-size: 0.875rem;-->
<!--    }-->

<!--    /* ==================== POSTS SECTION ==================== */-->
<!--    .posts-section {-->
<!--        order: 4;-->
<!--    }-->

<!--    .posts-filter {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--    }-->

<!--    .filter-select {-->
<!--        padding: 0.5rem 1rem;-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--        border-radius: var(&#45;&#45;radius-md);-->
<!--        background: var(&#45;&#45;surface-elevated);-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        font-size: 0.875rem;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    .filter-select:focus {-->
<!--        outline: none;-->
<!--        border-color: var(&#45;&#45;accent-primary);-->
<!--    }-->

<!--    .posts-content {-->
<!--        padding: 0;-->
<!--    }-->

<!--    /* ==================== POST CARDS ==================== */-->
<!--    .post-card {-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--        border-radius: var(&#45;&#45;radius-lg);-->
<!--        background: var(&#45;&#45;surface-elevated);-->
<!--        margin-bottom: 1.5rem;-->
<!--        padding: 1.5rem;-->
<!--        box-shadow: var(&#45;&#45;shadow-sm);-->
<!--        transition: all 0.3s ease;-->
<!--    }-->

<!--    .post-card:hover {-->
<!--        transform: translateY(-2px);-->
<!--        box-shadow: var(&#45;&#45;shadow-md);-->
<!--    }-->

<!--    .post-header {-->
<!--        display: flex;-->
<!--        justify-content: space-between;-->
<!--        align-items: center;-->
<!--        margin-bottom: 1rem;-->
<!--    }-->

<!--    .post-author {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 1rem;-->
<!--    }-->

<!--    .author-avatar {-->
<!--        width: 50px;-->
<!--        height: 50px;-->
<!--        border-radius: 50%;-->
<!--        object-fit: cover;-->
<!--    }-->

<!--    .author-info h6 {-->
<!--        margin: 0;-->
<!--        font-weight: 600;-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--    }-->

<!--    .author-name {-->
<!--        margin: 0;-->
<!--        font-weight: 600;-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--    }-->

<!--    .post-time {-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        font-size: 0.875rem;-->
<!--    }-->

<!--    .post-actions-menu {-->
<!--        position: relative;-->
<!--    }-->

<!--    .btn-menu {-->
<!--        background: none;-->
<!--        border: none;-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        padding: 0.5rem;-->
<!--        border-radius: var(&#45;&#45;radius-sm);-->
<!--        cursor: pointer;-->
<!--        transition: all 0.2s;-->
<!--    }-->

<!--    .btn-menu:hover {-->
<!--        background: var(&#45;&#45;bg-hover);-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--    }-->

<!--    .post-menu {-->
<!--        position: absolute;-->
<!--        top: 100%;-->
<!--        right: 0;-->
<!--        background: var(&#45;&#45;surface-elevated);-->
<!--        border: 1px solid var(&#45;&#45;border-primary);-->
<!--        border-radius: var(&#45;&#45;radius-md);-->
<!--        box-shadow: var(&#45;&#45;shadow-lg);-->
<!--        min-width: 120px;-->
<!--        z-index: 1000;-->
<!--        display: none;-->
<!--    }-->

<!--    .post-menu.show {-->
<!--        display: block;-->
<!--    }-->

<!--    .menu-item {-->
<!--        width: 100%;-->
<!--        padding: 0.75rem 1rem;-->
<!--        border: none;-->
<!--        background: none;-->
<!--        text-align: left;-->
<!--        cursor: pointer;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 0.5rem;-->
<!--        color: var(&#45;&#45;text-secondary);-->
<!--        transition: all 0.2s;-->
<!--    }-->

<!--    .menu-item:hover {-->
<!--        background: var(&#45;&#45;bg-hover);-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--    }-->

<!--    .menu-item.delete-post-btn {-->
<!--        color: var(&#45;&#45;accent-error);-->
<!--    }-->

<!--    .menu-item.delete-post-btn:hover {-->
<!--        background: rgba(239, 68, 68, 0.1);-->
<!--    }-->

<!--    .post-text {-->
<!--        margin-bottom: 1rem;-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        line-height: 1.6;-->
<!--        white-space: pre-wrap;-->
<!--    }-->

<!--    .post-image img {-->
<!--        width: 100%;-->
<!--        height: 600px; /* –∏–ª–∏ –ª—é–±–∞—è –Ω—É–∂–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */-->
<!--        object-fit: cover;-->
<!--        object-position: center;-->
<!--    }-->


<!--    .post-stats {-->
<!--        display: flex;-->
<!--        gap: 1.5rem;-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--        font-size: 0.875rem;-->
<!--        padding-top: 1rem;-->
<!--        border-top: 1px solid var(&#45;&#45;border-secondary);-->
<!--    }-->

<!--    .post-stats .stat-item {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 0.5rem;-->
<!--        cursor: pointer;-->
<!--        transition: color 0.2s;-->
<!--    }-->

<!--    .post-stats .stat-item:hover {-->
<!--        color: var(&#45;&#45;accent-primary);-->
<!--    }-->

<!--    .load-more-section {-->
<!--        text-align: center;-->
<!--        padding: 2rem;-->
<!--    }-->

<!--    .load-more-btn {-->
<!--        padding: 1rem 2rem;-->
<!--    }-->

<!--    .posts-placeholder {-->
<!--        text-align: center;-->
<!--        padding: 3rem 2rem;-->
<!--    }-->

<!--    .placeholder-title {-->
<!--        font-size: 1.25rem;-->
<!--        font-weight: 600;-->
<!--        color: var(&#45;&#45;text-primary);-->
<!--        margin-bottom: 0.5rem;-->
<!--    }-->

<!--    /* ==================== RESPONSIVE DESIGN ==================== */-->
<!--    @media (max-width: 1024px) {-->
<!--        .main-content {-->
<!--            margin-left: 80px;-->
<!--            padding: 1.5rem;-->
<!--        }-->
<!--    }-->

<!--    @media (max-width: 768px) {-->
<!--        .main-content {-->
<!--            margin-left: 0;-->
<!--            margin-top: 60px;-->
<!--            padding: 1rem;-->
<!--        }-->

<!--        .group-background {-->
<!--            height: 200px;-->
<!--        }-->

<!--        .group-main-info {-->
<!--            flex-direction: column;-->
<!--            text-align: center;-->
<!--            margin-top: -60px;-->
<!--            padding: 1.5rem;-->
<!--        }-->

<!--        .group-avatar {-->
<!--            width: 120px;-->
<!--            height: 120px;-->
<!--        }-->

<!--        .group-title {-->
<!--            font-size: 2rem;-->
<!--        }-->

<!--        .group-title-section {-->
<!--            flex-direction: column;-->
<!--            align-items: center;-->
<!--            text-align: center;-->
<!--        }-->

<!--        .group-stats {-->
<!--            justify-content: center;-->
<!--            gap: 1rem;-->
<!--        }-->

<!--        .stat-item {-->
<!--            flex-direction: column;-->
<!--            text-align: center;-->
<!--            gap: 0.25rem;-->
<!--        }-->

<!--        .group-actions {-->
<!--            flex-direction: column;-->
<!--            gap: 0.75rem;-->
<!--        }-->

<!--        .btn {-->
<!--            width: 100%;-->
<!--            justify-content: center;-->
<!--        }-->

<!--        .section-header {-->
<!--            padding: 1rem 1.5rem;-->
<!--            flex-direction: column;-->
<!--            gap: 1rem;-->
<!--            align-items: flex-start;-->
<!--        }-->

<!--        .post-creation-form {-->
<!--            padding: 1.5rem;-->
<!--        }-->

<!--        .post-actions {-->
<!--            flex-direction: column;-->
<!--            gap: 1rem;-->
<!--            align-items: stretch;-->
<!--        }-->

<!--        .post-attachments {-->
<!--            justify-content: center;-->
<!--        }-->

<!--        .post-card {-->
<!--            padding: 1rem;-->
<!--        }-->

<!--        .owner-card {-->
<!--            flex-direction: column;-->
<!--            text-align: center;-->
<!--            padding: 1.5rem;-->
<!--        }-->

<!--        .owner-avatar {-->
<!--            width: 100px;-->
<!--            height: 100px;-->
<!--        }-->
<!--    }-->

<!--    @media (max-width: 480px) {-->
<!--        .group-avatar {-->
<!--            width: 100px;-->
<!--            height: 100px;-->
<!--        }-->

<!--        .group-title {-->
<!--            font-size: 1.75rem;-->
<!--        }-->

<!--        .status-badges {-->
<!--            justify-content: center;-->
<!--        }-->

<!--        .status-badge {-->
<!--            font-size: 0.75rem;-->
<!--            padding: 0.375rem 0.75rem;-->
<!--        }-->

<!--        .section-header {-->
<!--            padding: 1rem;-->
<!--        }-->

<!--        .section-title {-->
<!--            font-size: 1.125rem;-->
<!--        }-->

<!--        .post-creation-form,-->
<!--        .posts-content {-->
<!--            padding: 1rem;-->
<!--        }-->

<!--        .placeholder-icon {-->
<!--            font-size: 2.5rem;-->
<!--        }-->

<!--        .placeholder-title {-->
<!--            font-size: 1.125rem;-->
<!--        }-->

<!--        .post-stats {-->
<!--            flex-direction: column;-->
<!--            gap: 0.75rem;-->
<!--        }-->

<!--        .post-actions {-->
<!--            gap: 0.75rem;-->
<!--        }-->

<!--        .post-submit-btn {-->
<!--            padding: 0.75rem 1.5rem;-->
<!--        }-->
<!--    }-->

<!--    /* ==================== ANIMATIONS ==================== */-->
<!--    @keyframes fadeIn {-->
<!--        from {-->
<!--            opacity: 0;-->
<!--            transform: translateY(20px);-->
<!--        }-->
<!--        to {-->
<!--            opacity: 1;-->
<!--            transform: translateY(0);-->
<!--        }-->
<!--    }-->

<!--    @keyframes slideInRight {-->
<!--        from {-->
<!--            transform: translateX(100%);-->
<!--            opacity: 0;-->
<!--        }-->
<!--        to {-->
<!--            transform: translateX(0);-->
<!--            opacity: 1;-->
<!--        }-->
<!--    }-->

<!--    @keyframes slideOut {-->
<!--        from {-->
<!--            opacity: 1;-->
<!--            transform: translateY(0);-->
<!--        }-->
<!--        to {-->
<!--            opacity: 0;-->
<!--            transform: translateY(-20px);-->
<!--        }-->
<!--    }-->

<!--    @keyframes pulse {-->
<!--        0%, 100% {-->
<!--            transform: scale(1);-->
<!--        }-->
<!--        50% {-->
<!--            transform: scale(1.05);-->
<!--        }-->
<!--    }-->

<!--    .section-card {-->
<!--        animation: fadeIn 0.6s ease-out;-->
<!--    }-->

<!--    .post-card {-->
<!--        animation: fadeIn 0.4s ease-out;-->
<!--    }-->

<!--    .group-header-container {-->
<!--        animation: fadeIn 0.8s ease-out;-->
<!--    }-->

<!--    .loading-pulse {-->
<!--        animation: pulse 1.5s infinite;-->
<!--    }-->

<!--    /* ==================== HOVER EFFECTS ==================== */-->
<!--    .section-card:hover {-->
<!--        transform: translateY(-2px);-->
<!--        box-shadow: var(&#45;&#45;shadow-md);-->
<!--        transition: all 0.3s ease;-->
<!--    }-->

<!--    .owner-card:hover .owner-avatar {-->
<!--        transform: scale(1.05);-->
<!--        transition: transform 0.3s ease;-->
<!--    }-->

<!--    .attachment-btn:hover {-->
<!--        transform: translateY(-2px) scale(1.05);-->
<!--    }-->

<!--    /* ==================== UTILITY CLASSES ==================== */-->
<!--    .text-center {-->
<!--        text-align: center;-->
<!--    }-->

<!--    .text-muted {-->
<!--        color: var(&#45;&#45;text-muted);-->
<!--    }-->

<!--    .mb-1 {-->
<!--        margin-bottom: 0.5rem;-->
<!--    }-->

<!--    .mb-2 {-->
<!--        margin-bottom: 1rem;-->
<!--    }-->

<!--    .mt-2 {-->
<!--        margin-top: 1rem;-->
<!--    }-->

<!--    .d-none {-->
<!--        display: none;-->
<!--    }-->

<!--    .d-block {-->
<!--        display: block;-->
<!--    }-->

<!--    /* ==================== CUSTOM SCROLLBAR ==================== */-->
<!--    .post-textarea::-webkit-scrollbar {-->
<!--        width: 8px;-->
<!--    }-->

<!--    .post-textarea::-webkit-scrollbar-track {-->
<!--        background: var(&#45;&#45;bg-secondary);-->
<!--        border-radius: 4px;-->
<!--    }-->

<!--    .post-textarea::-webkit-scrollbar-thumb {-->
<!--        background: var(&#45;&#45;border-accent);-->
<!--        border-radius: 4px;-->
<!--    }-->

<!--    .post-textarea::-webkit-scrollbar-thumb:hover {-->
<!--        background: var(&#45;&#45;text-muted);-->
<!--    }-->

<!--    /* ==================== LOADING STATES ==================== */-->
<!--    .btn-loading {-->
<!--        position: relative;-->
<!--        color: transparent !important;-->
<!--    }-->

<!--    .btn-loading::after {-->
<!--        content: '';-->
<!--        position: absolute;-->
<!--        width: 16px;-->
<!--        height: 16px;-->
<!--        top: 50%;-->
<!--        left: 50%;-->
<!--        margin-left: -8px;-->
<!--        margin-top: -8px;-->
<!--        border: 2px solid transparent;-->
<!--        border-top-color: currentColor;-->
<!--        border-radius: 50%;-->
<!--        animation: spin 1s linear infinite;-->
<!--    }-->

<!--    @keyframes spin {-->
<!--        0% {-->
<!--            transform: rotate(0deg);-->
<!--        }-->
<!--        100% {-->
<!--            transform: rotate(360deg);-->
<!--        }-->
<!--    }-->

<!--    /* ==================== ERROR STATES ==================== */-->
<!--    .error-message {-->
<!--        color: var(&#45;&#45;accent-error);-->
<!--        font-size: 0.875rem;-->
<!--        margin-top: 0.5rem;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 0.5rem;-->
<!--    }-->

<!--    .success-message {-->
<!--        color: var(&#45;&#45;accent-success);-->
<!--        font-size: 0.875rem;-->
<!--        margin-top: 0.5rem;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 0.5rem;-->
<!--    }-->

<!--    /* ==================== FOCUS STYLES ==================== */-->
<!--    .btn:focus-visible {-->
<!--        outline: 2px solid var(&#45;&#45;accent-primary);-->
<!--        outline-offset: 2px;-->
<!--    }-->

<!--    .attachment-btn:focus-visible {-->
<!--        outline: 2px solid var(&#45;&#45;accent-primary);-->
<!--        outline-offset: 2px;-->
<!--    }-->

<!--    /* ==================== PRINT STYLES ==================== */-->
<!--    @media print {-->
<!--        .group-actions,-->
<!--        .post-creation-section,-->
<!--        .attachment-btn,-->
<!--        .btn-menu,-->
<!--        #alertContainer {-->
<!--            display: none !important;-->
<!--        }-->

<!--        .main-content {-->
<!--            margin-left: 0;-->
<!--            padding: 1rem;-->
<!--        }-->

<!--        .group-background {-->
<!--            height: 200px;-->
<!--        }-->

<!--        .post-card {-->
<!--            break-inside: avoid;-->
<!--            box-shadow: none;-->
<!--            border: 1px solid #ccc;-->
<!--        }-->
<!--    }-->
<!--</style>-->

<!--&lt;!&ndash; JavaScript &ndash;&gt;-->
<!--<script>-->
<!--    // Global variables - —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –ø–æ–ª—É—á–µ–Ω–∏—è groupId –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏-->
<!--    let groupId = /*[[${group.id}]]*/ null;-->

<!--    // –†–µ–∑–µ—Ä–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–µ–Ω–∏—è groupId-->
<!--    if (!groupId) {-->
<!--        const contentSections = document.querySelector('.content-sections');-->
<!--        groupId = contentSections ? contentSections.getAttribute('data-group-id') : null;-->
<!--    }-->

<!--    if (!groupId) {-->
<!--        // –ü–æ–ª—É—á–∞–µ–º –∏–∑ URL: /groups/3 -> ID = 3-->
<!--        const pathParts = window.location.pathname.split('/');-->
<!--        const groupsIndex = pathParts.indexOf('groups');-->
<!--        if (groupsIndex !== -1 && pathParts[groupsIndex + 1]) {-->
<!--            groupId = parseInt(pathParts[groupsIndex + 1]);-->
<!--        }-->
<!--    }-->

<!--    if (!groupId) {-->
<!--        console.error('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å ID –≥—Ä—É–ø–ø—ã');-->
<!--        showAlert('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å ID –≥—Ä—É–ø–ø—ã', 'danger');-->
<!--    }-->

<!--    const currentUserId = /*[[${currentUserId}]]*/ 1;-->
<!--    let currentPage = /*[[${posts != null ? posts.currentPage : 0}]]*/ 0;-->
<!--    let isLoading = false;-->

<!--    // ==================== INITIALIZATION ====================-->
<!--    document.addEventListener('DOMContentLoaded', function () {-->
<!--        console.log(`üèõÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥—Ä—É–ø–ø—ã. Group ID: ${groupId}, User ID: ${currentUserId}`);-->

<!--        if (!groupId) {-->
<!--            console.error('‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: groupId –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω');-->
<!--            showAlert('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å ID –≥—Ä—É–ø–ø—ã. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.', 'danger');-->
<!--            return;-->
<!--        }-->

<!--        initializeGroupDetails();-->
<!--        console.log('üèõÔ∏è Group details page initialized');-->
<!--    });-->

<!--    function initializeGroupDetails() {-->
<!--        initializePostCreation();-->
<!--        initializePostDeletion();-->
<!--        initializeLoadMore();-->
<!--        initializeImageUpload();-->
<!--        initializeJoinLeaveButtons();-->
<!--        initializeAnimations();-->
<!--        initializePostMenus();-->
<!--        initializeKeyboardShortcuts();-->
<!--    }-->

<!--    // ==================== POST CREATION ====================-->
<!--    function initializePostCreation() {-->
<!--        const form = document.getElementById('createPostForm');-->
<!--        const textarea = document.getElementById('postText');-->
<!--        const submitBtn = document.querySelector('.post-submit-btn');-->

<!--        if (!form || !textarea || !submitBtn) return;-->

<!--        // Auto-resize textarea-->
<!--        textarea.addEventListener('input', function () {-->
<!--            this.style.height = 'auto';-->
<!--            this.style.height = Math.max(this.scrollHeight, 120) + 'px';-->
<!--            updateSubmitButton();-->
<!--        });-->

<!--        // Form submission-->
<!--        form.addEventListener('submit', function (e) {-->
<!--            e.preventDefault();-->
<!--            if (!isLoading) {-->
<!--                createPost();-->
<!--            }-->
<!--        });-->

<!--        // Initially disable submit button-->
<!--        updateSubmitButton();-->
<!--    }-->

<!--    function updateSubmitButton() {-->
<!--        const textarea = document.getElementById('postText');-->
<!--        const imageInput = document.getElementById('imageInput');-->
<!--        const submitBtn = document.querySelector('.post-submit-btn');-->

<!--        if (!textarea || !imageInput || !submitBtn) return;-->

<!--        const hasText = textarea.value.trim().length > 0;-->
<!--        const hasImage = imageInput.files.length > 0;-->
<!--        const hasContent = hasText || hasImage;-->

<!--        submitBtn.disabled = !hasContent || isLoading;-->
<!--        submitBtn.style.opacity = hasContent && !isLoading ? '1' : '0.5';-->
<!--    }-->

<!--    function createPost() {-->
<!--        const form = document.getElementById('createPostForm');-->
<!--        const textarea = document.getElementById('postText');-->
<!--        const imageInput = document.getElementById('imageInput');-->
<!--        const submitBtn = document.querySelector('.post-submit-btn');-->

<!--        if (!form || !textarea || !submitBtn) return;-->

<!--        if (!groupId) {-->
<!--            showAlert('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å ID –≥—Ä—É–ø–ø—ã', 'danger');-->
<!--            return;-->
<!--        }-->

<!--        const text = textarea.value.trim();-->
<!--        const hasImage = imageInput.files.length > 0;-->

<!--        if (!text && !hasImage) {-->
<!--            showAlert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–±–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–≥–æ –ø–æ—Å—Ç–∞.', 'danger');-->
<!--            return;-->
<!--        }-->

<!--        isLoading = true;-->
<!--        const formData = new FormData(form);-->
<!--        const buttonText = submitBtn.querySelector('span');-->
<!--        const buttonIcon = submitBtn.querySelector('i');-->

<!--        // Show loading state-->
<!--        submitBtn.disabled = true;-->
<!--        buttonIcon.className = 'fas fa-spinner fa-spin';-->
<!--        buttonText.textContent = '–ü—É–±–ª–∏–∫–∞—Ü–∏—è...';-->

<!--        console.log(`üìù –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ –≤ –≥—Ä—É–ø–ø–µ ${groupId} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º ${currentUserId}`);-->

<!--        // Send AJAX request-->
<!--        fetch(`/groups/${groupId}/posts`, {-->
<!--            method: 'POST',-->
<!--            body: formData,-->
<!--            headers: {-->
<!--                'X-Requested-With': 'XMLHttpRequest'-->
<!--            }-->
<!--        })-->
<!--            .then(response => response.json())-->
<!--            .then(data => {-->
<!--                if (data.success) {-->
<!--                    showAlert(data.message, 'success');-->

<!--                    // Clear form-->
<!--                    form.reset();-->
<!--                    removeImagePreview();-->

<!--                    // Reset textarea height-->
<!--                    textarea.style.height = '120px';-->

<!--                    // Add new post to list-->
<!--                    addNewPostToList(data.post);-->

<!--                    // Hide empty state if visible-->
<!--                    const emptyState = document.getElementById('emptyState');-->
<!--                    if (emptyState) {-->
<!--                        emptyState.style.display = 'none';-->
<!--                    }-->
<!--                } else {-->
<!--                    showAlert(data.error || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞.', 'danger');-->
<!--                }-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error('Error creating post:', error);-->
<!--                showAlert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞.', 'danger');-->
<!--            })-->
<!--            .finally(() => {-->
<!--                isLoading = false;-->
<!--                // Reset button-->
<!--                buttonIcon.className = 'fas fa-paper-plane';-->
<!--                buttonText.textContent = '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å';-->
<!--                updateSubmitButton();-->
<!--            });-->
<!--    }-->

<!--    function addNewPostToList(post) {-->
<!--        const postsContainer = document.getElementById('postsContainer');-->

<!--        if (!postsContainer) return;-->

<!--        const postHtml = createPostHTML(post, true);-->

<!--        // Insert at the beginning-->
<!--        postsContainer.insertAdjacentHTML('afterbegin', postHtml);-->

<!--        // Animate in-->
<!--        const newPost = postsContainer.querySelector('.post-card');-->
<!--        if (newPost) {-->
<!--            newPost.style.opacity = '0';-->
<!--            newPost.style.transform = 'translateY(-20px)';-->

<!--            setTimeout(() => {-->
<!--                newPost.style.transition = 'all 0.3s ease';-->
<!--                newPost.style.opacity = '1';-->
<!--                newPost.style.transform = 'translateY(0)';-->
<!--            }, 10);-->

<!--            // Reinitialize event listeners for new post-->
<!--            initializePostDeletion();-->
<!--            initializePostMenus();-->
<!--        }-->
<!--    }-->

<!--    // ==================== IMAGE UPLOAD ====================-->
<!--    function initializeImageUpload() {-->
<!--        const imageInput = document.getElementById('imageInput');-->

<!--        if (!imageInput) return;-->

<!--        imageInput.addEventListener('change', function (e) {-->
<!--            const file = e.target.files[0];-->
<!--            if (file) {-->
<!--                if (!file.type.startsWith('image/')) {-->
<!--                    showAlert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.', 'danger');-->
<!--                    this.value = '';-->
<!--                    return;-->
<!--                }-->

<!--                if (file.size > 5 * 1024 * 1024) { // 5MB limit-->
<!--                    showAlert('–†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 5MB.', 'danger');-->
<!--                    this.value = '';-->
<!--                    return;-->
<!--                }-->

<!--                showImagePreview(file);-->
<!--                updateSubmitButton();-->
<!--            }-->
<!--        });-->
<!--    }-->

<!--    function showImagePreview(file) {-->
<!--        const reader = new FileReader();-->
<!--        const previewSection = document.querySelector('.image-upload-section');-->
<!--        const previewImage = document.getElementById('imagePreview');-->

<!--        if (!reader || !previewSection || !previewImage) return;-->

<!--        reader.onload = function (e) {-->
<!--            previewImage.src = e.target.result;-->
<!--            previewSection.style.display = 'block';-->
<!--        };-->

<!--        reader.onerror = function () {-->
<!--            showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞.', 'danger');-->
<!--        };-->

<!--        reader.readAsDataURL(file);-->
<!--    }-->

<!--    function removeImagePreview() {-->
<!--        const previewSection = document.querySelector('.image-upload-section');-->
<!--        const imageInput = document.getElementById('imageInput');-->

<!--        if (previewSection) previewSection.style.display = 'none';-->
<!--        if (imageInput) imageInput.value = '';-->
<!--        updateSubmitButton();-->
<!--    }-->

<!--    // Make function globally available-->
<!--    window.removeImagePreview = removeImagePreview;-->

<!--    // ==================== POST DELETION ====================-->
<!--    function initializePostDeletion() {-->
<!--        const deleteButtons = document.querySelectorAll('.delete-post-btn');-->

<!--        deleteButtons.forEach(btn => {-->
<!--            btn.removeEventListener('click', handlePostDeletion); // Remove previous listeners-->
<!--            btn.addEventListener('click', handlePostDeletion);-->
<!--        });-->
<!--    }-->

<!--    function handlePostDeletion(e) {-->
<!--        e.preventDefault();-->
<!--        e.stopPropagation();-->

<!--        const postId = this.getAttribute('data-post-id');-->

<!--        if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ø–æ—Å—Ç?')) {-->
<!--            return;-->
<!--        }-->

<!--        deletePost(postId);-->
<!--    }-->

<!--    function deletePost(postId) {-->
<!--        if (isLoading) return;-->

<!--        if (!groupId) {-->
<!--            showAlert('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å ID –≥—Ä—É–ø–ø—ã', 'danger');-->
<!--            return;-->
<!--        }-->

<!--        isLoading = true;-->

<!--        console.log(`üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ ${postId} –∏–∑ –≥—Ä—É–ø–ø—ã ${groupId}`);-->

<!--        fetch(`/groups/${groupId}/posts/${postId}/delete`, {-->
<!--            method: 'POST',-->
<!--            headers: {-->
<!--                'X-Requested-With': 'XMLHttpRequest'-->
<!--            }-->
<!--        })-->
<!--            .then(response => {-->
<!--                if (response.ok) {-->
<!--                    // Remove post from DOM with animation-->
<!--                    const postElement = document.querySelector(`[data-post-id="${postId}"]`);-->
<!--                    if (postElement) {-->
<!--                        postElement.style.transition = 'all 0.3s ease';-->
<!--                        postElement.style.opacity = '0';-->
<!--                        postElement.style.transform = 'translateX(-100%)';-->

<!--                        setTimeout(() => {-->
<!--                            postElement.remove();-->
<!--                            showAlert('–ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');-->

<!--                            // Show empty state if no posts left-->
<!--                            const remainingPosts = document.querySelectorAll('.post-card');-->
<!--                            if (remainingPosts.length === 0) {-->
<!--                                const emptyState = document.getElementById('emptyState');-->
<!--                                if (emptyState) {-->
<!--                                    emptyState.style.display = 'block';-->
<!--                                }-->
<!--                            }-->
<!--                        }, 300);-->
<!--                    }-->
<!--                } else {-->
<!--                    showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ—Å—Ç–∞', 'danger');-->
<!--                }-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error('Error deleting post:', error);-->
<!--                showAlert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ—Å—Ç–∞', 'danger');-->
<!--            })-->
<!--            .finally(() => {-->
<!--                isLoading = false;-->
<!--            });-->
<!--    }-->

<!--    // ==================== POST MENU MANAGEMENT ====================-->
<!--    function initializePostMenus() {-->
<!--        // Close menus when clicking outside-->
<!--        document.addEventListener('click', function (e) {-->
<!--            if (!e.target.closest('.post-actions-menu')) {-->
<!--                document.querySelectorAll('.post-menu.show').forEach(menu => {-->
<!--                    menu.classList.remove('show');-->
<!--                });-->
<!--            }-->
<!--        });-->
<!--    }-->

<!--    function togglePostMenu(button) {-->
<!--        const menu = button.nextElementSibling;-->
<!--        const isVisible = menu.classList.contains('show');-->

<!--        // Close all other menus-->
<!--        document.querySelectorAll('.post-menu.show').forEach(m => {-->
<!--            if (m !== menu) m.classList.remove('show');-->
<!--        });-->

<!--        // Toggle current menu-->
<!--        menu.classList.toggle('show', !isVisible);-->
<!--    }-->

<!--    // Make function globally available-->
<!--    window.togglePostMenu = togglePostMenu;-->

<!--    // ==================== LOAD MORE POSTS ====================-->
<!--    function initializeLoadMore() {-->
<!--        const loadMoreBtn = document.getElementById('loadMoreBtn');-->

<!--        if (!loadMoreBtn) return;-->

<!--        loadMoreBtn.addEventListener('click', function () {-->
<!--            if (isLoading) return;-->

<!--            const nextPage = parseInt(this.getAttribute('data-current-page')) + 1;-->
<!--            loadMorePosts(nextPage);-->
<!--        });-->
<!--    }-->

<!--    function loadMorePosts(page) {-->
<!--        if (isLoading) return;-->

<!--        if (!groupId) {-->
<!--            showAlert('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å ID –≥—Ä—É–ø–ø—ã', 'danger');-->
<!--            return;-->
<!--        }-->

<!--        isLoading = true;-->
<!--        const loadMoreBtn = document.getElementById('loadMoreBtn');-->
<!--        const originalText = loadMoreBtn.innerHTML;-->

<!--        // Show loading-->
<!--        loadMoreBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∑–∫–∞...';-->
<!--        loadMoreBtn.disabled = true;-->

<!--        console.log(`üìÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –¥–ª—è –≥—Ä—É–ø–ø—ã ${groupId}, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ${page}`);-->

<!--        fetch(`/groups/${groupId}/posts/load-more?page=${page}&size=10`, {-->
<!--            headers: {-->
<!--                'X-Requested-With': 'XMLHttpRequest'-->
<!--            }-->
<!--        })-->
<!--            .then(response => response.json())-->
<!--            .then(data => {-->
<!--                if (data.posts && data.posts.length > 0) {-->
<!--                    // Add posts to container-->
<!--                    const postsContainer = document.getElementById('postsContainer');-->

<!--                    data.posts.forEach(post => {-->
<!--                        const postHtml = createPostHTML(post, false);-->
<!--                        postsContainer.insertAdjacentHTML('beforeend', postHtml);-->
<!--                    });-->

<!--                    // Update page number-->
<!--                    loadMoreBtn.setAttribute('data-current-page', page);-->

<!--                    // Hide button if no more posts-->
<!--                    if (!data.hasNext) {-->
<!--                        loadMoreBtn.style.display = 'none';-->
<!--                    }-->

<!--                    // Reinitialize event listeners-->
<!--                    initializePostDeletion();-->
<!--                    initializePostMenus();-->
<!--                } else {-->
<!--                    loadMoreBtn.style.display = 'none';-->
<!--                }-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error('Error loading more posts:', error);-->
<!--                showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–æ—Å—Ç–æ–≤', 'danger');-->
<!--            })-->
<!--            .finally(() => {-->
<!--                isLoading = false;-->
<!--                loadMoreBtn.innerHTML = originalText;-->
<!--                loadMoreBtn.disabled = false;-->
<!--            });-->
<!--    }-->

<!--    function createPostHTML(post, isNew = false) {-->
<!--        const timeText = isNew ? '—Ç–æ–ª—å–∫–æ —á—Ç–æ' : formatDate(post.createdAt);-->
<!--        // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç –µ—Å–ª–∏ –æ–Ω –∞–≤—Ç–æ—Ä –∏–ª–∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞/–≤–ª–∞–¥–µ–ª—å—Ü–∞-->
<!--        const canDelete = post.authorId === currentUserId;-->

<!--        return `-->
<!--            <div class="post-card" data-post-id="${post.id}">-->
<!--                <div class="post-header">-->
<!--                    <div class="post-author">-->
<!--                        <img src="${post.authorImageUrl || '/images/default-avatar.png'}"-->
<!--                             alt="${post.authorName || '–ê–≤—Ç–æ—Ä'}" class="author-avatar"-->
<!--                             onerror="this.src='/images/default-avatar.png'">-->
<!--                        <div class="author-info">-->
<!--                            <h6 class="author-name">${post.authorName || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∞–≤—Ç–æ—Ä'}</h6>-->
<!--                            <small class="post-time">${timeText}</small>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    ${canDelete ? `-->
<!--                        <div class="post-actions-menu">-->
<!--                            <button class="btn-menu" onclick="togglePostMenu(this)" aria-label="–ú–µ–Ω—é –ø–æ—Å—Ç–∞">-->
<!--                                <i class="fas fa-ellipsis-h"></i>-->
<!--                            </button>-->
<!--                            <div class="post-menu">-->
<!--                                <button class="menu-item delete-post-btn" data-post-id="${post.id}">-->
<!--                                    <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å-->
<!--                                </button>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    ` : ''}-->
<!--                </div>-->

<!--                ${post.text ? `<div class="post-text">${escapeHtml(post.text)}</div>` : ''}-->

<!--                ${post.hasImage && post.imageUrl ? `-->
<!--                    <div class="post-image">-->
<!--                        <img src="${post.imageUrl}" alt="Post image" loading="lazy"-->
<!--                             onerror="this.style.display='none'">-->
<!--                    </div>-->
<!--                ` : ''}-->

<!--                <div class="post-stats">-->
<!--                    <span class="stat-item" onclick="likePost(${post.id})" role="button" tabindex="0">-->
<!--                        <i class="fas fa-heart"></i>-->
<!--                        <span>${post.likeCount || 0}</span>-->
<!--                    </span>-->
<!--                    <span class="stat-item" onclick="showComments(${post.id})" role="button" tabindex="0">-->
<!--                        <i class="fas fa-comment"></i>-->
<!--                        <span>${post.commentCount || 0}</span>-->
<!--                    </span>-->
<!--                    <span class="stat-item" onclick="sharePost(${post.id})" role="button" tabindex="0">-->
<!--                        <i class="fas fa-share"></i>-->
<!--                        <span>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</span>-->
<!--                    </span>-->
<!--                </div>-->
<!--            </div>-->
<!--        `;-->
<!--    }-->

<!--    // ==================== JOIN/LEAVE BUTTONS ====================-->
<!--    function initializeJoinLeaveButtons() {-->
<!--        const joinBtn = document.querySelector('.join-btn');-->
<!--        const leaveBtn = document.querySelector('.leave-btn');-->

<!--        if (joinBtn) {-->
<!--            joinBtn.addEventListener('click', handleJoinGroup);-->
<!--        }-->

<!--        if (leaveBtn) {-->
<!--            leaveBtn.addEventListener('click', handleLeaveGroup);-->
<!--        }-->
<!--    }-->

<!--    function handleJoinGroup(e) {-->
<!--        e.preventDefault();-->

<!--        if (isLoading) return;-->

<!--        const button = this;-->
<!--        const buttonText = button.querySelector('span');-->
<!--        const buttonIcon = button.querySelector('i');-->

<!--        isLoading = true;-->
<!--        // Show loading-->
<!--        button.disabled = true;-->
<!--        buttonIcon.className = 'fas fa-spinner fa-spin';-->
<!--        buttonText.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';-->

<!--        // Simulate API call (replace with actual endpoint)-->
<!--        setTimeout(() => {-->
<!--            buttonIcon.className = 'fas fa-check';-->
<!--            buttonText.textContent = '–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞';-->
<!--            showAlert('–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!', 'success');-->

<!--            setTimeout(() => {-->
<!--                button.style.animation = 'fadeOut 0.3s ease-out';-->
<!--                setTimeout(() => {-->
<!--                    button.style.display = 'none';-->
<!--                }, 300);-->
<!--            }, 2000);-->

<!--            isLoading = false;-->
<!--        }, 1500);-->
<!--    }-->

<!--    function handleLeaveGroup(e) {-->
<!--        e.preventDefault();-->

<!--        if (isLoading) return;-->

<!--        if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∏–Ω—É—Ç—å —ç—Ç—É –≥—Ä—É–ø–ø—É?')) {-->
<!--            return;-->
<!--        }-->

<!--        const button = this;-->
<!--        const buttonText = button.querySelector('span');-->
<!--        const buttonIcon = button.querySelector('i');-->

<!--        isLoading = true;-->
<!--        // Show loading-->
<!--        button.disabled = true;-->
<!--        buttonIcon.className = 'fas fa-spinner fa-spin';-->
<!--        buttonText.textContent = '–í—ã—Ö–æ–¥...';-->

<!--        // Simulate API call (replace with actual endpoint)-->
<!--        setTimeout(() => {-->
<!--            showAlert('–í—ã –ø–æ–∫–∏–Ω—É–ª–∏ –≥—Ä—É–ø–ø—É', 'success');-->
<!--            setTimeout(() => {-->
<!--                window.location.href = '/groups';-->
<!--            }, 1000);-->
<!--        }, 1500);-->
<!--    }-->

<!--    // ==================== ANIMATIONS ====================-->
<!--    function initializeAnimations() {-->
<!--        // Stagger animation for sections-->
<!--        const sections = document.querySelectorAll('.section-card');-->
<!--        sections.forEach((section, index) => {-->
<!--            section.style.animationDelay = `${(index + 1) * 0.1}s`;-->
<!--        });-->

<!--        // Intersection observer for posts-->
<!--        const observerOptions = {-->
<!--            threshold: 0.1,-->
<!--            rootMargin: '50px'-->
<!--        };-->

<!--        const observer = new IntersectionObserver((entries) => {-->
<!--            entries.forEach(entry => {-->
<!--                if (entry.isIntersecting) {-->
<!--                    entry.target.style.animation = 'fadeIn 0.6s ease-out forwards';-->
<!--                }-->
<!--            });-->
<!--        }, observerOptions);-->

<!--        document.querySelectorAll('.post-card').forEach(post => {-->
<!--            observer.observe(post);-->
<!--        });-->
<!--    }-->

<!--    // ==================== KEYBOARD SHORTCUTS ====================-->
<!--    function initializeKeyboardShortcuts() {-->
<!--        document.addEventListener('keydown', function (e) {-->
<!--            // Ctrl + Enter to submit post-->
<!--            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {-->
<!--                const textarea = document.getElementById('postText');-->
<!--                if (textarea && document.activeElement === textarea) {-->
<!--                    e.preventDefault();-->
<!--                    const form = document.getElementById('createPostForm');-->
<!--                    if (form && !isLoading) {-->
<!--                        createPost();-->
<!--                    }-->
<!--                }-->
<!--            }-->

<!--            // Escape to close menus-->
<!--            if (e.key === 'Escape') {-->
<!--                document.querySelectorAll('.post-menu.show').forEach(menu => {-->
<!--                    menu.classList.remove('show');-->
<!--                });-->
<!--            }-->
<!--        });-->
<!--    }-->



<!--    // ==================== UTILITY FUNCTIONS ====================-->
<!--    function showAlert(message, type = 'info') {-->
<!--        const alertContainer = document.getElementById('alertContainer');-->

<!--        if (!alertContainer) return;-->

<!--        const alertId = `alert-${Date.now()}`;-->
<!--        const iconClass = type === 'success' ? 'check-circle' :-->
<!--            type === 'danger' ? 'exclamation-triangle' :-->
<!--                type === 'warning' ? 'exclamation-triangle' : 'info-circle';-->

<!--        const alertHtml = `-->
<!--            <div id="${alertId}" class="alert alert-${type}">-->
<!--                <div class="alert-content">-->
<!--                    <i class="fas fa-${iconClass}"></i>-->
<!--                    <span>${escapeHtml(message)}</span>-->
<!--                </div>-->
<!--                <button class="alert-close" onclick="removeAlert('${alertId}')" aria-label="–ó–∞–∫—Ä—ã—Ç—å">-->
<!--                    <i class="fas fa-times"></i>-->
<!--                </button>-->
<!--            </div>-->
<!--        `;-->

<!--        alertContainer.insertAdjacentHTML('beforeend', alertHtml);-->

<!--        // Auto remove after 5 seconds-->
<!--        setTimeout(() => removeAlert(alertId), 5000);-->
<!--    }-->

<!--    function removeAlert(alertId) {-->
<!--        const alert = document.getElementById(alertId);-->
<!--        if (alert) {-->
<!--            alert.style.animation = 'slideOut 0.3s ease-out';-->
<!--            setTimeout(() => alert.remove(), 300);-->
<!--        }-->
<!--    }-->

<!--    function formatDate(dateString) {-->
<!--        if (!dateString) return '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';-->

<!--        try {-->
<!--            const date = new Date(dateString);-->
<!--            const now = new Date();-->
<!--            const diff = now - date;-->

<!--            const minutes = Math.floor(diff / 60000);-->
<!--            const hours = Math.floor(diff / 3600000);-->
<!--            const days = Math.floor(diff / 86400000);-->

<!--            if (minutes < 1) return '—Ç–æ–ª—å–∫–æ —á—Ç–æ';-->
<!--            if (minutes < 60) return `${minutes} –º–∏–Ω. –Ω–∞–∑–∞–¥`;-->
<!--            if (hours < 24) return `${hours} —á. –Ω–∞–∑–∞–¥`;-->
<!--            if (days < 7) return `${days} –¥–Ω. –Ω–∞–∑–∞–¥`;-->

<!--            return date.toLocaleDateString('ru-RU', {-->
<!--                day: '2-digit',-->
<!--                month: '2-digit',-->
<!--                year: 'numeric',-->
<!--                hour: '2-digit',-->
<!--                minute: '2-digit'-->
<!--            });-->
<!--        } catch (e) {-->
<!--            return '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';-->
<!--        }-->
<!--    }-->

<!--    function escapeHtml(text) {-->
<!--        if (!text) return '';-->
<!--        const div = document.createElement('div');-->
<!--        div.textContent = text;-->
<!--        return div.innerHTML;-->
<!--    }-->

<!--    function focusPostCreation() {-->
<!--        const textarea = document.getElementById('postText');-->
<!--        if (textarea) {-->
<!--            textarea.focus();-->
<!--            textarea.scrollIntoView({behavior: 'smooth', block: 'center'});-->
<!--        }-->
<!--    }-->

<!--    // ==================== ERROR HANDLING ====================-->
<!--    window.addEventListener('error', function (e) {-->
<!--        console.error('JavaScript error:', e.error);-->
<!--        if (isLoading) {-->
<!--            isLoading = false;-->
<!--            showAlert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.', 'danger');-->
<!--        }-->
<!--    });-->

<!--    // ==================== PERFORMANCE OPTIMIZATION ====================-->
<!--    // Debounce function for performance-->
<!--    function debounce(func, wait) {-->
<!--        let timeout;-->
<!--        return function executedFunction(...args) {-->
<!--            const later = () => {-->
<!--                clearTimeout(timeout);-->
<!--                func(...args);-->
<!--            };-->
<!--            clearTimeout(timeout);-->
<!--            timeout = setTimeout(later, wait);-->
<!--        };-->
<!--    }-->

<!--    // Throttle function for scroll events-->
<!--    function throttle(func, limit) {-->
<!--        let inThrottle;-->
<!--        return function () {-->
<!--            const args = arguments;-->
<!--            const context = this;-->
<!--            if (!inThrottle) {-->
<!--                func.apply(context, args);-->
<!--                inThrottle = true;-->
<!--                setTimeout(() => inThrottle = false, limit);-->
<!--            }-->
<!--        }-->
<!--    }-->

<!--    // ==================== ACCESSIBILITY ====================-->
<!--    // Add keyboard navigation for interactive elements-->
<!--    document.addEventListener('keydown', function (e) {-->
<!--        if (e.key === 'Enter' || e.key === ' ') {-->
<!--            const target = e.target;-->
<!--            if (target.classList.contains('stat-item') || target.classList.contains('attachment-btn')) {-->
<!--                e.preventDefault();-->
<!--                target.click();-->
<!--            }-->
<!--        }-->
<!--    });-->

<!--    // ==================== GLOBAL FUNCTIONS ====================-->
<!--    // Make functions globally available-->
<!--    window.focusPostCreation = focusPostCreation;-->
<!--    window.removeAlert = removeAlert;-->
<!--    window.togglePostMenu = togglePostMenu;-->
<!--    window.removeImagePreview = removeImagePreview;-->
<!--    window.changePostsFilter = changePostsFilter;-->
<!--    window.showComingSoon = showComingSoon;-->
<!--    window.likePost = likePost;-->
<!--    window.showComments = showComments;-->
<!--    window.sharePost = sharePost;-->

<!--    console.log('üèõÔ∏è Cleopatra Group Details with AJAX Posts - Loaded Successfully');-->
<!--    console.log('üìä Features: Post Creation, Deletion, Image Upload, Load More, Responsive Design');-->
<!--</script>-->

<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${group.name} + ' - Cleopatra'">–ì—Ä—É–ø–ø–∞ - Cleopatra</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
          rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" th:href="@{/css/group-details.css}">
</head>
<body>
<!-- Include Sidebar -->
<th:block th:replace="~{fragments/sidebar :: complete-sidebar('groups')}"></th:block>

<!-- Main Content -->
<main class="main-content">
    <div class="content-wrapper">
        <!-- Flash Messages Container -->
        <div id="alertContainer"></div>

        <!-- Group Header Section -->
        <div class="group-header-container">
            <!-- Background Image -->
            <div class="group-background">
                <div th:if="${group.backgroundImageUrl}"
                     class="background-image"
                     th:style="'background-image: url(' + ${group.backgroundImageUrl} + ')'">
                    <div class="background-overlay"></div>
                </div>
                <div th:unless="${group.backgroundImageUrl}"
                     class="background-gradient">
                    <div class="background-overlay"></div>
                </div>
            </div>

            <!-- Group Main Info -->
            <div class="group-main-info">
                <div class="group-avatar-container">
                    <div class="group-avatar">
                        <img th:if="${group.imageUrl}"
                             th:src="${group.imageUrl}"
                             th:alt="${group.name}">
                        <div th:unless="${group.imageUrl}" class="no-avatar">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>

                    <!-- Group Type Badge -->
                    <div class="group-type-badge" th:text="${group.groupType.displayName}">
                        üåç –û—Ç–∫—Ä—ã—Ç–∞—è
                    </div>
                </div>

                <div class="group-info">
                    <div class="group-title-section">
                        <h1 class="group-title" th:text="${group.name}">–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</h1>

                        <!-- Membership Status Badges -->
                        <div class="status-badges">
                            <span th:if="${group.isMember}" class="status-badge member">
                                <i class="fas fa-check"></i> –£—á–∞—Å—Ç–Ω–∏–∫
                            </span>
                            <span th:if="${group.currentUserMembershipStatus?.name() == 'PENDING'}"
                                  class="status-badge pending">
                                <i class="fas fa-clock"></i> –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏
                            </span>
                            <span th:if="${group.currentUserRole?.name() == 'OWNER'}"
                                  class="status-badge owner">
                                <i class="fas fa-crown"></i> –í–ª–∞–¥–µ–ª–µ—Ü
                            </span>
                            <span th:if="${group.currentUserRole?.name() == 'ADMIN'}"
                                  class="status-badge admin">
                                <i class="fas fa-shield-alt"></i> –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
                            </span>
                        </div>
                    </div>

                    <p class="group-description" th:text="${group.description}">–û–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</p>

                    <!-- Group Stats -->
                    <div class="group-stats">
                        <div class="stat-item">
                            <i class="fas fa-users"></i>
                            <span class="stat-value" th:text="${group.memberCount}">0</span>
                            <span class="stat-label">—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-calendar"></i>
                            <span class="stat-value" th:text="${#temporals.format(group.createdAt, 'dd.MM.yyyy')}">01.01.2024</span>
                            <span class="stat-label">—Å–æ–∑–¥–∞–Ω–∞</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-globe"></i>
                            <span class="stat-value" th:text="${group.groupType.displayName}">–û—Ç–∫—Ä—ã—Ç–∞—è</span>
                            <span class="stat-label">—Ç–∏–ø –≥—Ä—É–ø–ø—ã</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="group-actions">
                <button th:if="${group.canJoin}"
                        class="btn btn-primary action-btn join-btn"
                        th:attr="data-group-id=${group.id}">
                    <i class="fas fa-plus"></i>
                    <span>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</span>
                </button>

                <button th:if="${group.canLeave}"
                        class="btn btn-danger action-btn leave-btn"
                        th:attr="data-group-id=${group.id}">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>–ü–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É</span>
                </button>

                <a th:if="${group.canManage}"
                   th:href="@{/groups/{id}/settings(id=${group.id})}"
                   class="btn btn-secondary action-btn">
                    <i class="fas fa-cog"></i>
                    <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </a>

                <form th:if="${group.canManage}"
                      th:action="@{/groups/delete/{id}(id=${group.id})}"
                      method="post"
                      class="delete-form"
                      onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É?')">
                    <button type="submit" class="btn btn-danger action-btn">
                        <i class="fas fa-trash"></i>
                        <span>–£–¥–∞–ª–∏—Ç—å</span>
                    </button>
                </form>

                <a href="/groups" class="btn btn-outline action-btn">
                    <i class="fas fa-arrow-left"></i>
                    <span>–ù–∞–∑–∞–¥ –∫ –≥—Ä—É–ø–ø–∞–º</span>
                </a>
            </div>
        </div>

        <!-- Content Sections -->
        <div class="content-sections" th:attr="data-group-id=${group.id}">
            <!-- Post Creation Section -->
            <div th:if="${group.isMember != null and group.isMember}" class="post-creation-section">
                <div class="section-card">
                    <div class="section-header">
                        <h3 class="section-title">
                            <i class="fas fa-edit"></i>
                            –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
                        </h3>
                    </div>

                    <div class="post-creation-form">
                        <form id="createPostForm" enctype="multipart/form-data">
                            <div class="post-textarea-wrapper">
                                <textarea name="text" class="post-textarea" id="postText"
                                          placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏ —Å –≥—Ä—É–ø–ø–æ–π..."
                                          rows="3"></textarea>
                            </div>

                            <div class="image-upload-section" style="display: none;">
                                <div class="image-preview-container">
                                    <img id="imagePreview"
                                         style="max-width: 100%; max-height: 200px; border-radius: 8px;" alt="Preview">
                                    <button type="button" class="remove-image-btn" onclick="removeImagePreview()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="post-actions">
                                <div class="post-attachments">
                                    <label class="attachment-btn" title="–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ">
                                        <i class="fas fa-camera"></i>
                                        <input type="file" name="image" id="imageInput" accept="image/*"
                                               style="display: none;">
                                    </label>
                                    <button type="button" class="attachment-btn" title="–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ"
                                            onclick="showComingSoon('–≤–∏–¥–µ–æ')">
                                        <i class="fas fa-video"></i>
                                    </button>
                                    <button type="button" class="attachment-btn" title="–î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª"
                                            onclick="showComingSoon('—Ñ–∞–π–ª—ã')">
                                        <i class="fas fa-paperclip"></i>
                                    </button>
                                </div>

                                <button type="submit" class="btn btn-primary post-submit-btn">
                                    <i class="fas fa-paper-plane"></i>
                                    <span>–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Owner Section -->
            <div class="owner-section">
                <div class="section-card">
                    <div class="section-header">
                        <h3 class="section-title">
                            <i class="fas fa-crown"></i>
                            –í–ª–∞–¥–µ–ª–µ—Ü –≥—Ä—É–ø–ø—ã
                        </h3>
                    </div>

                    <div class="owner-card">
                        <div class="owner-avatar">
                            <img th:if="${group.ownerImageUrl}"
                                 th:src="${group.ownerImageUrl}"
                                 th:alt="${group.ownerFirstName}">
                            <div th:unless="${group.ownerImageUrl}" class="no-owner-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                        </div>

                        <div class="owner-info">
                            <h4 class="owner-name" th:text="${group.ownerFirstName} + ' ' + ${group.ownerLastName}">
                                –ò–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
                            </h4>
                            <p class="owner-role">–°–æ–∑–¥–∞—Ç–µ–ª—å –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã</p>
                        </div>

                        <a th:href="@{/profile/{id}(id=${group.ownerId})}"
                           class="btn btn-outline btn-sm">
                            <i class="fas fa-user"></i>
                            –ü—Ä–æ—Ñ–∏–ª—å
                        </a>
                    </div>
                </div>
            </div>

            <!-- Group Posts Section -->
            <div class="posts-section">
                <div class="section-card">
                    <div class="section-header">
                        <h3 class="section-title">
                            <i class="fas fa-newspaper"></i>
                            –ü–æ—Å—Ç—ã –≥—Ä—É–ø–ø—ã
                        </h3>
                    </div>

                    <div class="posts-content">
                        <div id="postsContainer">
                            <!-- Existing posts from server -->
                            <th:block
                                    th:if="${posts != null and posts.posts != null and not #lists.isEmpty(posts.posts)}">
                                <div th:each="post : ${posts.posts}" class="post-card"
                                     th:attr="data-post-id=${post.id}">
                                    <div class="post-header">
                                        <div class="post-author">
                                            <img th:src="${post.authorImageUrl != null ? post.authorImageUrl : '/images/default-avatar.png'}"
                                                 th:alt="${post.authorName}" class="author-avatar">
                                            <div class="author-info">
                                                <a th:href="@{/profile/{id}(id=${post.authorId})}" class="author-link">
                                                    <h6 class="author-name" th:text="${post.authorName}">–ê–≤—Ç–æ—Ä</h6>
                                                    <small class="post-time"
                                                           th:text="${#temporals.format(post.createdAt, 'dd.MM.yyyy HH:mm')}">–≤—Ä–µ–º—è</small>
                                                </a>
                                            </div>
                                        </div>

                                        <!-- Delete button for post author or group owner/admin -->
                                        <div th:if="${post.authorId != null and currentUserId != null and (post.authorId == currentUserId or group.currentUserRole?.name() == 'OWNER' or group.currentUserRole?.name() == 'ADMIN')}"
                                             class="post-actions-menu">
                                            <button class="btn-menu" onclick="togglePostMenu(this)">
                                                <i class="fas fa-ellipsis-h"></i>
                                            </button>
                                            <div class="post-menu">
                                                <button class="menu-item delete-post-btn"
                                                        th:attr="data-post-id=${post.id}">
                                                    <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div th:if="${post.text != null and not #strings.isEmpty(post.text)}"
                                         class="post-text" th:text="${post.text}">–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞
                                    </div>

                                    <div th:if="${post.hasImage != null and post.hasImage}" class="post-image">
                                        <img th:src="${post.imageUrl}" alt="Post image">
                                    </div>

                                    <div class="post-stats">
                                        <span class="stat-item">
                                            <i class="fas fa-heart"></i>
                                            <span th:text="${post.likeCount != null ? post.likeCount : 0}">0</span>
                                        </span>
                                        <span class="stat-item">
                                            <i class="fas fa-comment"></i>
                                            <span th:text="${post.commentCount != null ? post.commentCount : 0}">0</span>
                                        </span>
                                    </div>
                                </div>
                            </th:block>

                            <!-- Empty state -->
                            <div th:if="${posts == null or posts.posts == null or #lists.isEmpty(posts.posts)}"
                                 class="posts-placeholder" id="emptyState">
                                <div class="placeholder-icon">
                                    <i class="fas fa-newspaper"></i>
                                </div>
                                <h4 class="placeholder-title">–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤</h4>
                                <p class="placeholder-text">
                                    –°—Ç–∞–Ω—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –ø–æ–¥–µ–ª–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ!
                                </p>
                                <button th:if="${group.isMember != null and group.isMember}"
                                        class="btn btn-primary"
                                        onclick="focusPostCreation()">
                                    <i class="fas fa-plus"></i>
                                    –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç
                                </button>
                            </div>
                        </div>

                        <!-- Load More Button -->
                        <div th:if="${posts != null and posts.hasNext != null and posts.hasNext}"
                             class="load-more-section">
                            <button id="loadMoreBtn" class="btn btn-outline load-more-btn"
                                    th:attr="data-current-page=${posts != null ? posts.currentPage : 0}">
                                <i class="fas fa-plus"></i>
                                –ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Initialize JavaScript variables from Thymeleaf -->
<script th:inline="javascript">
    window.groupId = /*[[${group.id}]]*/ null;
    window.currentUserId = /*[[${currentUserId}]]*/ null;
    window.currentPage = /*[[${posts != null ? posts.currentPage : 0}]]*/ 0;
</script>

<!-- JavaScript -->
<script th:src="@{/js/group-details.js}"></script>

</body>
</html>