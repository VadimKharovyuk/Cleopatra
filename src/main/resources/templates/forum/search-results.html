<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="'ะะพะธัะบ: ' + ${searchQuery} + ' | ะคะพััะผ ะฐััะธััะพะฒ'"></title>
</head>
<body>
<header>
  <nav>
    <a th:href="@{/forums}">โฌ๏ธ ะะฐะทะฐะด ะบ ัะพััะผั</a>
  </nav>
  <h1>๐ ะะตะทัะปััะฐัั ะฟะพะธัะบะฐ</h1>
  <p>ะะฐะฟัะพั: "<span th:text="${searchQuery}"></span>"</p>
  <p>ะะฐะนะดะตะฝะพ: <span th:text="${forums.totalElements}"></span> ัะตะทัะปััะฐัะพะฒ</p>
</header>

<main>
  <!-- ะะพะฒัะพัะฝะฐั ัะพัะผะฐ ะฟะพะธัะบะฐ -->
  <form th:action="@{/forums/search}" method="get">
    <input type="text" name="query" th:value="${searchQuery}" placeholder="ะะพะธัะบ ะฟะพ ัะตะผะฐะผ..." required>
    <button type="submit">๐ ะะฐะนัะธ</button>
  </form>

  <!-- ะะตะทัะปััะฐัั ะฟะพะธัะบะฐ (ะฟะตัะตะธัะฟะพะปัะทัะตะผ ะปะพะณะธะบั ะธะท list.html) -->
  <section>
    <div th:if="${forums.content.empty}">
      <p>ะะพ ะฒะฐัะตะผั ะทะฐะฟัะพัั ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ.</p>
      <a th:href="@{/forums}">ะะตัะฝััััั ะบ ัะฟะธัะบั ะฒัะตั ัะตะผ</a>
    </div>

    <article th:each="forum : ${forums.content}">
      <header>
        <h2>
          <a th:href="@{/forums/{id}(id=${forum.id})}" th:text="${forum.title}"></a>
        </h2>
        <div>
          <span th:text="${forum.forumType.emoji + ' ' + forum.forumType.displayName}"></span>
        </div>
      </header>

      <footer>
        <div>
          <span>๐ค <span th:text="${forum.authorName}"></span></span>
          <span>๐ <span th:text="${#temporals.format(forum.createdAt, 'dd.MM.yyyy HH:mm')}"></span></span>
          <span>๐๏ธ <span th:text="${forum.viewCount}"></span></span>
          <span>๐ฌ <span th:text="${forum.commentCount}"></span></span>
        </div>
      </footer>
    </article>
  </section>

  <!-- ะะฐะณะธะฝะฐัะธั ะดะปั ะฟะพะธัะบะฐ -->
  <nav th:if="${forums.totalPages > 1}">
    <a th:if="${forums.hasPrevious}"
       th:href="@{/forums/search(query=${searchQuery}, page=${forums.page - 1})}">
      โฌ๏ธ ะัะตะดัะดััะฐั
    </a>

    <span th:text="'ะกััะฐะฝะธัะฐ ' + ${forums.page + 1} + ' ะธะท ' + ${forums.totalPages}"></span>

    <a th:if="${forums.hasNext}"
       th:href="@{/forums/search(query=${searchQuery}, page=${forums.page + 1})}">
      ะกะปะตะดัััะฐั โก๏ธ
    </a>
  </nav>
</main>
</body>
</html>